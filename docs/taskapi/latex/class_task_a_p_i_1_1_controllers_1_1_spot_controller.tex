\doxysection{Task\+API.\+Controllers.\+Spot\+Controller Class Reference}
\hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller}{}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller}\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}


Controller for managing operations related to spot synchronization.  




Inheritance diagram for Task\+API.\+Controllers.\+Spot\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{class_task_a_p_i_1_1_controllers_1_1_spot_controller__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Task\+API.\+Controllers.\+Spot\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_task_a_p_i_1_1_controllers_1_1_spot_controller__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a619cb6a4f328cb89727d19e7cf83dc28}{Spot\+Controller}} (\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} log\+Service, \mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper}{Spot\+Helper}} spot\+Helper, \mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_internal_a_p_i_service}{Internal\+APIService}} internal\+APIService, IOptions$<$ \mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings}{Task\+APISettings}} $>$ task\+APISettings)
\begin{DoxyCompactList}\small\item\em Constructor for the Spot\+Controller. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_adc5d733d4c39f2ecdaad8d8bf2231731}{Sync}} ()
\begin{DoxyCompactList}\small\item\em Initiates synchronisation of spot data. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ac5b396e3a46352bf5dbe21701876f35c}{Save\+Daily}} ()
\begin{DoxyCompactList}\small\item\em Saves daily spot data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\+\_\+log\+Service}}
\item 
\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper}{Spot\+Helper}} \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}{\+\_\+spot\+Helper}}
\item 
\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_internal_a_p_i_service}{Internal\+APIService}} \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_abecbd079d6e33d0d3f390b0fc9980eea}{\+\_\+iapi\+Service}}
\item 
\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings}{Task\+APISettings}} \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}{\+\_\+settings}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Controller for managing operations related to spot synchronization. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a619cb6a4f328cb89727d19e7cf83dc28}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a619cb6a4f328cb89727d19e7cf83dc28} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!SpotController@{SpotController}}
\index{SpotController@{SpotController}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{SpotController()}{SpotController()}}
{\footnotesize\ttfamily Task\+API.\+Controllers.\+Spot\+Controller.\+Spot\+Controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{Log\+Service}}}]{log\+Service,  }\item[{\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper}{Spot\+Helper}}}]{spot\+Helper,  }\item[{\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_internal_a_p_i_service}{Internal\+APIService}}}]{internal\+APIService,  }\item[{IOptions$<$ \mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings}{Task\+APISettings}} $>$}]{task\+APISettings }\end{DoxyParamCaption})}



Constructor for the Spot\+Controller. 


\begin{DoxyParams}{Parameters}
{\em log\+Service} & Instance of Log\+Service.\\
\hline
{\em spot\+Helper} & Instance of Spot\+Helper.\\
\hline
{\em internal\+APIService} & Instance of Internal\+APIService.\\
\hline
{\em task\+APISettings} & Instance of IOptions$<$\+Task\+APISettings$>$ to access \doxylink{namespace_task_a_p_i}{Task\+API} settings.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\_logService}}\ =\ logService;\ \ \ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}{\_spotHelper}}\ =\ spotHelper;}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_abecbd079d6e33d0d3f390b0fc9980eea}{\_iapiService}}\ =\ internalAPIService;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}{\_settings}}\ =\ taskAPISettings.Value;}
\DoxyCodeLine{00038\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ac5b396e3a46352bf5dbe21701876f35c}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ac5b396e3a46352bf5dbe21701876f35c} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!SaveDaily@{SaveDaily}}
\index{SaveDaily@{SaveDaily}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{SaveDaily()}{SaveDaily()}}
{\footnotesize\ttfamily IAction\+Result Task\+API.\+Controllers.\+Spot\+Controller.\+Save\+Daily (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Saves daily spot data. 

This endpoint saves daily spot data and handles any errors that occur during the process. 

\begin{DoxyReturn}{Returns}
An IAction\+Result indicating the result of the operation.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\_logService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_a5c2a67dbd8beb6f821c46b8d052d59ea}{LogInformation}}(\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{LogService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_ac2b08e94307168cb702773d148d166ba}{LogSources}}.SpotController,\ \textcolor{stringliteral}{"{}Save\ daily\ spot\ initiated"{}});}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ var\ result\ =\ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}{\_spotHelper}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper_a6b975ced6fddc4826a8950c8a250b926}{SaveDailySpot}}();}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result.Error)}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\_logService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_a46dc9bf58bc9605c7e17dfee38b94354}{LogError}}(\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{LogService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_ac2b08e94307168cb702773d148d166ba}{LogSources}}.SpotController,\ \textcolor{stringliteral}{"{}error\ saving\ daily\ spot"{}},\ result.Result);}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_abecbd079d6e33d0d3f390b0fc9980eea}{\_iapiService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_internal_a_p_i_service_aeffeb1d3d59aeeab65dfe72691d21600}{SendEmail}}(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_task_a_p_i_1_1_models_1_1_d_t_o_1_1_internal_a_p_i_1_1_email_post}{EmailPost}}()}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ EmailFrom\ =\ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}{\_settings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_af39dc0933cd608b26e7bc4f82951d356}{GeneralSettings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_1_1_generalsettings_ac0a0b89d2e7cf7f820e5663a1a4cffbf}{NotificationEmailFrom}},}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ EmailTo\ =\ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}{\_settings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_af39dc0933cd608b26e7bc4f82951d356}{GeneralSettings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_1_1_generalsettings_a25434a5471214771ae507f7152073898}{NotificationEmailTo}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ NameFrom\ =\ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}{\_settings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_af39dc0933cd608b26e7bc4f82951d356}{GeneralSettings}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings_1_1_generalsettings_a082a8e92b97a7d83196f1d0056241042}{NotificationEmailName}},}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Subject\ =\ \textcolor{stringliteral}{"{}error\ saving\ daily\ spot"{}},}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HTMLBody\ =\ \$\textcolor{stringliteral}{"{}task\ API\ was\ unable\ to\ save\ the\ daily\ spot\(\backslash\)n\{result.Result\}"{}}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(result.Result);}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(result.Result);}
\DoxyCodeLine{00083\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ac5b396e3a46352bf5dbe21701876f35c_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_adc5d733d4c39f2ecdaad8d8bf2231731}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_adc5d733d4c39f2ecdaad8d8bf2231731} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!Sync@{Sync}}
\index{Sync@{Sync}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{Sync()}{Sync()}}
{\footnotesize\ttfamily IAction\+Result Task\+API.\+Controllers.\+Spot\+Controller.\+Sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initiates synchronisation of spot data. 

This endpoint triggers synchronisation of spot data and returns the synchronised data. 

\begin{DoxyReturn}{Returns}
An IAction\+Result containing the synchronised spot data.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \ \ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\_logService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_a5c2a67dbd8beb6f821c46b8d052d59ea}{LogInformation}}(\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{LogService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_ac2b08e94307168cb702773d148d166ba}{LogSources}}.SpotController,\ \textcolor{stringliteral}{"{}spot\ sync\ initiated"{}});}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}{\_spotHelper}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper_a89a665897ed47f9b7065ce771100b83c}{CanSync}}())\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}{\_logService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_a5c2a67dbd8beb6f821c46b8d052d59ea}{LogInformation}}(\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{LogService}}.\mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service_ac2b08e94307168cb702773d148d166ba}{LogSources}}.SpotController,\ \textcolor{stringliteral}{"{}metal\ market\ closed"{}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ List<BaseSpot>\ result\ =\ \mbox{\hyperlink{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}{\_spotHelper}}.\mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper_a7b75f44b3310036d4de7f0f2956bbac1}{PullSaveTrim}}();}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(result);}
\DoxyCodeLine{00055\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_task_a_p_i_1_1_controllers_1_1_spot_controller_adc5d733d4c39f2ecdaad8d8bf2231731_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_abecbd079d6e33d0d3f390b0fc9980eea}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_abecbd079d6e33d0d3f390b0fc9980eea} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!\_iapiService@{\_iapiService}}
\index{\_iapiService@{\_iapiService}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{\_iapiService}{\_iapiService}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_internal_a_p_i_service}{Internal\+APIService}} Task\+API.\+Controllers.\+Spot\+Controller.\+\_\+iapi\+Service\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_ad7cdbdccf11eeb80f44f07b40d9a58f0} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!\_logService@{\_logService}}
\index{\_logService@{\_logService}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{\_logService}{\_logService}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_task_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} Task\+API.\+Controllers.\+Spot\+Controller.\+\_\+log\+Service\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a3732e946efc1e2a6c45e6e179daef8de} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!\_settings@{\_settings}}
\index{\_settings@{\_settings}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{\_settings}{\_settings}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_settings_1_1_task_a_p_i_settings}{Task\+APISettings}} Task\+API.\+Controllers.\+Spot\+Controller.\+\_\+settings\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46}\label{class_task_a_p_i_1_1_controllers_1_1_spot_controller_a01f90e575841ea077761002e4bf43a46} 
\index{TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}!\_spotHelper@{\_spotHelper}}
\index{\_spotHelper@{\_spotHelper}!TaskAPI.Controllers.SpotController@{TaskAPI.Controllers.SpotController}}
\doxysubsubsection{\texorpdfstring{\_spotHelper}{\_spotHelper}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_task_a_p_i_1_1_helpers_1_1_spot_helper}{Spot\+Helper}} Task\+API.\+Controllers.\+Spot\+Controller.\+\_\+spot\+Helper\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+STRIDER/source/repos/\+Task\+API/\+Controllers/\mbox{\hyperlink{_spot_controller_8cs}{Spot\+Controller.\+cs}}\end{DoxyCompactItemize}
