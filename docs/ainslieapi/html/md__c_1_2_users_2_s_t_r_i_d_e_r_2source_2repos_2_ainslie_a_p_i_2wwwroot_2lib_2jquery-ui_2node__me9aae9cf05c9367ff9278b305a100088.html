<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AinslieAPI: redeyed &lt;a href=&quot;http://travis-ci.org/thlorenz/redeyed&quot; &gt;&lt;img src=&quot;https://secure.travis-ci.org/thlorenz/redeyed.png?branch=master&quot; alt=&quot;build status&quot;/&gt;&lt;/a&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AinslieAPI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me9aae9cf05c9367ff9278b305a100088.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">redeyed &lt;a href="http://travis-ci.org/thlorenz/redeyed" &gt;&lt;img src="https://secure.travis-ci.org/thlorenz/redeyed.png?branch=master" alt="build status"/&gt;&lt;/a&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md4185"></a> <em>Add color to your JavaScript!</em></p>
<p><img src="http://allaboutfrogs.org/gallery/photos/redeyes/red1.gif" alt="frog" class="inline"/></p>
<p><a href="http://allaboutfrogs.org/info/species/redeye.html">Red Eyed Tree Frog</a> *(Agalychnis callidryas)*</p>
<h1><a class="anchor" id="autotoc_md4186"></a>
What?</h1>
<p>Takes JavaScript code, along with a config and returns the original code with tokens wrapped and/or replaced as configured.</p>
<h1><a class="anchor" id="autotoc_md4187"></a>
Where?</h1>
<ul>
<li>server side using nodejs</li>
<li>in the browser</li>
</ul>
<h1><a class="anchor" id="autotoc_md4188"></a>
What for?</h1>
<p>One usecase is adding metadata to your code that can then be used to apply syntax highlighting.</p>
<h1><a class="anchor" id="autotoc_md4189"></a>
How?</h1>
<ul>
<li>copy the <a href="https://github.com/thlorenz/redeyed/blob/master/config.js">config.js</a> and edit it in order to specify how certain tokens are to be surrounded/replaced</li>
<li>replace the <code>undefined</code> of each token you want to configure with one of the following</li>
</ul>
<h2><a class="anchor" id="autotoc_md4190"></a>
{String} config</h2>
<p>&lsquo;'before:after&rsquo;`</p>
<p>wraps the token inside before/after</p>
<h2><a class="anchor" id="autotoc_md4191"></a>
{Object} config</h2>
<p>&lsquo;{ _before: 'before&rsquo;, _after: 'after' }`</p>
<p>wraps token inside before/after</p>
<h3><a class="anchor" id="autotoc_md4192"></a>
Missing before and after resolution for {String} and {Object} config</h3>
<p>For the <code>{String}</code> and <code>{Object}</code> configurations, 'before' or 'after' may be omitted:</p>
<ul>
<li><code>{String}</code>:<ul>
<li>&lsquo;'before:&rsquo;&lsquo; (omitting 'after&rsquo;)</li>
<li>&lsquo;&rsquo;:after'&lsquo; (omitting 'before&rsquo;)</li>
</ul>
</li>
<li><code>{Object}</code>:<ul>
<li>&lsquo;{ _before: 'before&rsquo; }&lsquo; (omitting &rsquo;_after')</li>
<li>&lsquo;{ _after: 'after&rsquo; }&lsquo; (omitting &rsquo;_before')</li>
</ul>
</li>
</ul>
<p>In these cases the missing half is resolved as follows:</p>
<ul>
<li>from the <code>parent._default</code> (i.e., <code>Keyword._default</code>) if found</li>
<li>otherwise from the <code>config._default</code> if found</li>
<li>otherwise &lsquo;&rsquo;'` (empty string)</li>
</ul>
<h2><a class="anchor" id="autotoc_md4193"></a>
{Function} config</h2>
<p><code>function (tokenString, info) { return {String}|{Object}; }</code></p>
<h3><a class="anchor" id="autotoc_md4194"></a>
Inputs</h3>
<ul>
<li>tokenString: the content of the token that is currently being processed</li>
<li>info: an object with the following structure</li>
</ul>
<div class="fragment"><div class="line">{</div>
<div class="line">    // {Int}</div>
<div class="line">    // the index of the token being processed inside tokens</div>
<div class="line">    tokenIndex</div>
<div class="line"> </div>
<div class="line">    // {Array}</div>
<div class="line">    // all tokens that are being processed including comments </div>
<div class="line">    // (i.e. the result of merging esprima tokens and comments)</div>
<div class="line">  , tokens  </div>
<div class="line"> </div>
<div class="line">    // {Object} </div>
<div class="line">    // the abstract syntax tree of the parsed code</div>
<div class="line">  , ast  </div>
<div class="line"> </div>
<div class="line">    // {String}</div>
<div class="line">    // the code that was parsed (same string as the one passed to redeyed(code ..)</div>
<div class="line">  , code</div>
<div class="line">}</div>
</div><!-- fragment --><p>In most cases the <code>tokenString</code> is all you need. The extra info object is passed in case you need to gather more information about the <code>token</code>'s surroundings in order to decide how to transform it. See: <a href="https://github.com/thlorenz/redeyed/blob/master/examples/replace-log.js">replace-log-example</a></p>
<h3><a class="anchor" id="autotoc_md4195"></a>
Output</h3>
<p>You can return a {String} or an {Object} from a {Function} config.</p>
<ul>
<li>when returning a {String}, the token value will be replaced with it</li>
<li>when returning an {Object}, it should be of the following form:</li>
</ul>
<div class="fragment"><div class="line">{</div>
<div class="line">    // {String}</div>
<div class="line">    // the string that should be substituted for the value of the current and all skipped tokens</div>
<div class="line">    replacement</div>
<div class="line"> </div>
<div class="line">    // {Object} (Token)</div>
<div class="line">    // the token after which processing should continue</div>
<div class="line">    // all tokens in between the current one and this one inclusive will be ignored</div>
<div class="line">  , skipPastToken</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4196"></a>
Transforming JavaScript code</h2>
<p><em><b>redeyed(code, config[, opts])</b></em></p>
<p>Invoke redeyed with your <b>config**uration, a **code</b> snippet and maybe <b>opts</b> as in the below example:</p>
<div class="fragment"><div class="line">var redeyed = require(&#39;redeyed&#39;)</div>
<div class="line">  , config = require(&#39;./path/to/config&#39;)</div>
<div class="line">  , code = &#39;var a = 3;&#39;</div>
<div class="line">  , result;</div>
<div class="line"> </div>
<div class="line">// redeyed will throw an error (caused by the esprima parser) if the code has invalid javascript</div>
<div class="line">try {</div>
<div class="line">  result = redeyed(code, config);</div>
<div class="line">  console.log(result.code);</div>
<div class="line">} catch(err) {</div>
<div class="line">  console.error(err);</div>
<div class="line">}</div>
</div><!-- fragment --><p><em><b>opts</b></em>: </p><div class="fragment"><div class="line">{ // {Boolean}</div>
<div class="line">  // if true `result.code` is not assigned and therefore `undefined`</div>
<div class="line">  // if false (default) `result.code` property contains the result of `split.join`</div>
<div class="line">  nojoin: true|false</div>
<div class="line">}</div>
</div><!-- fragment --><p><em><b>return value</b></em>:</p>
<div class="fragment"><div class="line">{   ast      </div>
<div class="line">  , tokens   </div>
<div class="line">  , comments </div>
<div class="line">  , splits   </div>
<div class="line">  , code     </div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>ast <code>{Array}</code>: <a href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree</a> as returned by <a href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">esprima parse</a></li>
<li>tokens <code>{Array}</code>: <a href="http://en.wikipedia.org/wiki/Token_(parser)">tokens</a> provided by esprima (excluding comments)</li>
<li>comments <code>{Array}</code>: block and line comments as provided by esprima</li>
<li>splits <code>{Array}</code>: code pieces split up, some of which where transformed as configured</li>
<li>code <code>{String}</code>: transformed code, same as &lsquo;splits.join(&rsquo;')` unless this step has been skipped (see opts)</li>
</ul>
<h1><a class="anchor" id="autotoc_md4197"></a>
Browser Support</h1>
<h2><a class="anchor" id="autotoc_md4198"></a>
AMD</h2>
<p>Ensure to include <a href="https://github.com/ariya/esprima">esprima</a> as one of your dependencies</p>
<div class="fragment"><div class="line">define([&#39;redeyed&#39;], function (redeyed) {</div>
<div class="line"> [ .. ]</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4199"></a>
Attached to global window object</h2>
<p>The <code>redeyed {Function}</code> will be exposed globally as <code>window.redeyed</code> - big surprise!</p>
<div class="fragment"><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://raw.github.com/ariya/esprima/master/esprima.js&quot;&gt;&lt;/script&gt;</div>
<div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;path/to/redeyed.js&quot;&gt;&lt;/script&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4200"></a>
redeyed in the wild</h1>
<ul>
<li><a href="https://github.com/thlorenz/cardinal">cardinal</a>: Syntax highlights JavaScript code with ANSI colors to be printed to the terminal</li>
<li><a href="http://thlorenz.github.com/peacock/">peacock</a>: JavaScript syntax highlighter that generates html that is compatible with pygments styles.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4201"></a>
Examples</h1>
<ul>
<li><code>npm explore redeyed; npm demo</code> will let you try the <a href="https://github.com/thlorenz/redeyed/tree/master/examples/browser">browser example</a></li>
<li><code>npm explore redeyed; npm demo-log</code> will let you try the <a href="https://github.com/thlorenz/redeyed/blob/master/examples/replace-log.js">replace log example</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
