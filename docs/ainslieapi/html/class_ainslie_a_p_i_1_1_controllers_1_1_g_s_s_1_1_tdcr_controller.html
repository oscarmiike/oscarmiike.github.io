<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AinslieAPI: AinslieAPI.Controllers.GSS.TdcrController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AinslieAPI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AinslieAPI.Controllers.GSS.TdcrController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages transactions for The Digital Currency Reserve (TDCR) within the GSS ecosystem.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for AinslieAPI.Controllers.GSS.TdcrController:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller__inherit__graph.svg" width="195" height="128"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for AinslieAPI.Controllers.GSS.TdcrController:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller__coll__graph.svg" width="326" height="160"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a837b3bc6be2af122cb619aa347094ad7" id="r_a837b3bc6be2af122cb619aa347094ad7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a837b3bc6be2af122cb619aa347094ad7">TdcrController</a> (IHttpContextAccessor httpContextAccessor, <a class="el" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html">TdcrContext</a> tdcrContext, <a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html">CacheDataHelper</a> cacheDataHelper, IOptions&lt; <a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html">AppSettings</a> &gt; appSettings, <a class="el" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a> logger)</td></tr>
<tr class="memdesc:a837b3bc6be2af122cb619aa347094ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up controller with dependencies for processing TDCR transactions.  <br /></td></tr>
<tr class="separator:a837b3bc6be2af122cb619aa347094ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eba319227d13605723ee5253d17b014" id="r_a9eba319227d13605723ee5253d17b014"><td class="memItemLeft" align="right" valign="top">IActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eba319227d13605723ee5253d17b014">Orders</a> ([FromBody] <a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a> orderRequest)</td></tr>
<tr class="memdesc:a9eba319227d13605723ee5253d17b014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes incoming order requests, validating and saving them to the database.  <br /></td></tr>
<tr class="separator:a9eba319227d13605723ee5253d17b014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:acdd9fb842325482d76f3b37934d1142d" id="r_acdd9fb842325482d76f3b37934d1142d"><td class="memItemLeft" align="right" valign="top">HttpContext?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdd9fb842325482d76f3b37934d1142d">_httpContext</a><code> [get, set]</code></td></tr>
<tr class="separator:acdd9fb842325482d76f3b37934d1142d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3391f35cb75042f825d2ce9f88d670" id="r_afd3391f35cb75042f825d2ce9f88d670"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html">TdcrContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd3391f35cb75042f825d2ce9f88d670">_tdcrContext</a><code> [get, set]</code></td></tr>
<tr class="separator:afd3391f35cb75042f825d2ce9f88d670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8719413e16c851137491d336b2c593d3" id="r_a8719413e16c851137491d336b2c593d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html">CacheDataHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8719413e16c851137491d336b2c593d3">_cacheDataHelper</a><code> [get, set]</code></td></tr>
<tr class="separator:a8719413e16c851137491d336b2c593d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bdb97c7c1b4a05e61ebd8deaf06ed6" id="r_a83bdb97c7c1b4a05e61ebd8deaf06ed6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html">AppSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">_appSettings</a><code> [get, set]</code></td></tr>
<tr class="separator:a83bdb97c7c1b4a05e61ebd8deaf06ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38b13d3e5bdb9801cee343984590d69" id="r_aa38b13d3e5bdb9801cee343984590d69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a><code> [get, set]</code></td></tr>
<tr class="separator:aa38b13d3e5bdb9801cee343984590d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7188de077e7385a6b1498191b40e4e" id="r_a3c7188de077e7385a6b1498191b40e4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html">GSSPriceData</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a><code> [get, set]</code></td></tr>
<tr class="separator:a3c7188de077e7385a6b1498191b40e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acdce12cbf8d3ceb33fc727648bf58fc8" id="r_acdce12cbf8d3ceb33fc727648bf58fc8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdce12cbf8d3ceb33fc727648bf58fc8">ValidateOrderRequest</a> (<a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a> orderRequest)</td></tr>
<tr class="memdesc:acdce12cbf8d3ceb33fc727648bf58fc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the provided order request against business rules.  <br /></td></tr>
<tr class="separator:acdce12cbf8d3ceb33fc727648bf58fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5425d57dc6e7f08c36785f3ca41d30ab" id="r_a5425d57dc6e7f08c36785f3ca41d30ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5425d57dc6e7f08c36785f3ca41d30ab">PriceOutsideThreshold</a> (<a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a> orderRequest)</td></tr>
<tr class="memdesc:a5425d57dc6e7f08c36785f3ca41d30ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the price specified in an order request falls outside the acceptable threshold as defined by the system's configuration.  <br /></td></tr>
<tr class="separator:a5425d57dc6e7f08c36785f3ca41d30ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afd83d8bf3e0f4695d32ea1f255f4a5" id="r_a2afd83d8bf3e0f4695d32ea1f255f4a5"><td class="memItemLeft" align="right" valign="top">decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2afd83d8bf3e0f4695d32ea1f255f4a5">OrderLivePriceAUD</a> (<a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a> orderRequest)</td></tr>
<tr class="memdesc:a2afd83d8bf3e0f4695d32ea1f255f4a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the current live price in AUD for a given asset based on the order request's market and side.  <br /></td></tr>
<tr class="separator:a2afd83d8bf3e0f4695d32ea1f255f4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464a5d3df062bef894118260d86989f3" id="r_a464a5d3df062bef894118260d86989f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a464a5d3df062bef894118260d86989f3">TdcrOrderExists</a> (string TdcrId)</td></tr>
<tr class="memdesc:a464a5d3df062bef894118260d86989f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if an order with the specified TDCR ID exists in the database.  <br /></td></tr>
<tr class="separator:a464a5d3df062bef894118260d86989f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed8b7c2d20c40b06f57b02cd97058f0" id="r_a1ed8b7c2d20c40b06f57b02cd97058f0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ed8b7c2d20c40b06f57b02cd97058f0">BuildErrorString</a> (<a class="el" href="namespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr.html#af45942b6855ea8af3128b86e0f6c2a03">ErrorCodes</a> errorCode)</td></tr>
<tr class="memdesc:a1ed8b7c2d20c40b06f57b02cd97058f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an error string based on the provided error code.  <br /></td></tr>
<tr class="separator:a1ed8b7c2d20c40b06f57b02cd97058f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7114721dd614937f38ea1757206cc31e" id="r_a7114721dd614937f38ea1757206cc31e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_user_helper_1_1_authenticated_user.html">AuthenticatedUser</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7114721dd614937f38ea1757206cc31e">JwtUser</a></td></tr>
<tr class="separator:a7114721dd614937f38ea1757206cc31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages transactions for The Digital Currency Reserve (TDCR) within the GSS ecosystem. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a837b3bc6be2af122cb619aa347094ad7" name="a837b3bc6be2af122cb619aa347094ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837b3bc6be2af122cb619aa347094ad7">&#9670;&#160;</a></span>TdcrController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AinslieAPI.Controllers.GSS.TdcrController.TdcrController </td>
          <td>(</td>
          <td class="paramtype">IHttpContextAccessor</td>          <td class="paramname"><span class="paramname"><em>httpContextAccessor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html">TdcrContext</a></td>          <td class="paramname"><span class="paramname"><em>tdcrContext</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html">CacheDataHelper</a></td>          <td class="paramname"><span class="paramname"><em>cacheDataHelper</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html">AppSettings</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>appSettings</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a></td>          <td class="paramname"><span class="paramname"><em>logger</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up controller with dependencies for processing TDCR transactions. </p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>        {</div>
<div class="line"><span class="lineno">   45</span>            <a class="code hl_property" href="#acdd9fb842325482d76f3b37934d1142d">_httpContext</a> = httpContextAccessor.HttpContext;</div>
<div class="line"><span class="lineno">   46</span>            <a class="code hl_variable" href="#a7114721dd614937f38ea1757206cc31e">JwtUser</a> = (<a class="code hl_class" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_user_helper_1_1_authenticated_user.html">AuthenticatedUser</a>?)<a class="code hl_property" href="#acdd9fb842325482d76f3b37934d1142d">_httpContext</a>?.Items[<span class="stringliteral">&quot;user&quot;</span>];</div>
<div class="line"><span class="lineno">   47</span>            <a class="code hl_property" href="#afd3391f35cb75042f825d2ce9f88d670">_tdcrContext</a> = tdcrContext;</div>
<div class="line"><span class="lineno">   48</span>            <a class="code hl_property" href="#a8719413e16c851137491d336b2c593d3">_cacheDataHelper</a> = cacheDataHelper;</div>
<div class="line"><span class="lineno">   49</span>            <a class="code hl_property" href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">_appSettings</a> = appSettings.Value;</div>
<div class="line"><span class="lineno">   50</span>            <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a> = logger;</div>
<div class="line"><span class="lineno">   51</span>            <a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a> = <a class="code hl_property" href="#a8719413e16c851137491d336b2c593d3">_cacheDataHelper</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html#a533a0f6563d2e92e52c819c22c5009a6">GSSPricing</a>(<a class="code hl_property" href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">_appSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html#a40101ce107bba2b095e4196f0d1db3e9">AwApiSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings.html#a6ca6415b8e06af68870f32cd63e466cc">TdcrUserName</a>);</div>
<div class="line"><span class="lineno">   52</span>            <span class="keywordflow">if</span> (<a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a> == <span class="keyword">null</span> ||</div>
<div class="line"><span class="lineno">   53</span>                (<a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.AUDUSD ?? 0) == 0 ||</div>
<div class="line"><span class="lineno">   54</span>                (<a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#ae1752c3e772a310c0bc629076b110bbf">AssetList</a>?.Where(al =&gt; al.AssetSymbol.ToLower() == <span class="stringliteral">&quot;aus&quot;</span>).FirstOrDefault()?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset.html#a3bdbcb10d93ed6aa54928f0cd54166c2">Sell</a> ?? 0) == 0 ||</div>
<div class="line"><span class="lineno">   55</span>                (<a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.AssetList?.Where(al =&gt; al.AssetSymbol.ToLower() == <span class="stringliteral">&quot;aus&quot;</span>).FirstOrDefault()?.Buy ?? 0) == 0)</div>
<div class="line"><span class="lineno">   56</span>            {</div>
<div class="line"><span class="lineno">   57</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a9bf79a218e0884ac9cabd3ac87b81321">LogError</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;live price data is bad&quot;</span>);</div>
<div class="line"><span class="lineno">   58</span>            }</div>
<div class="line"><span class="lineno">   59</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a3c7188de077e7385a6b1498191b40e4e"><div class="ttname"><a href="#a3c7188de077e7385a6b1498191b40e4e">AinslieAPI.Controllers.GSS.TdcrController._livePriceData</a></div><div class="ttdeci">GSSPriceData? _livePriceData</div><div class="ttdef"><b>Definition</b> TdcrController.cs:38</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a7114721dd614937f38ea1757206cc31e"><div class="ttname"><a href="#a7114721dd614937f38ea1757206cc31e">AinslieAPI.Controllers.GSS.TdcrController.JwtUser</a></div><div class="ttdeci">AuthenticatedUser? JwtUser</div><div class="ttdef"><b>Definition</b> TdcrController.cs:31</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a83bdb97c7c1b4a05e61ebd8deaf06ed6"><div class="ttname"><a href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">AinslieAPI.Controllers.GSS.TdcrController._appSettings</a></div><div class="ttdeci">AppSettings _appSettings</div><div class="ttdef"><b>Definition</b> TdcrController.cs:36</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a8719413e16c851137491d336b2c593d3"><div class="ttname"><a href="#a8719413e16c851137491d336b2c593d3">AinslieAPI.Controllers.GSS.TdcrController._cacheDataHelper</a></div><div class="ttdeci">CacheDataHelper _cacheDataHelper</div><div class="ttdef"><b>Definition</b> TdcrController.cs:35</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_aa38b13d3e5bdb9801cee343984590d69"><div class="ttname"><a href="#aa38b13d3e5bdb9801cee343984590d69">AinslieAPI.Controllers.GSS.TdcrController._logger</a></div><div class="ttdeci">LogService _logger</div><div class="ttdef"><b>Definition</b> TdcrController.cs:37</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_acdd9fb842325482d76f3b37934d1142d"><div class="ttname"><a href="#acdd9fb842325482d76f3b37934d1142d">AinslieAPI.Controllers.GSS.TdcrController._httpContext</a></div><div class="ttdeci">HttpContext? _httpContext</div><div class="ttdef"><b>Definition</b> TdcrController.cs:33</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_afd3391f35cb75042f825d2ce9f88d670"><div class="ttname"><a href="#afd3391f35cb75042f825d2ce9f88d670">AinslieAPI.Controllers.GSS.TdcrController._tdcrContext</a></div><div class="ttdeci">TdcrContext _tdcrContext</div><div class="ttdef"><b>Definition</b> TdcrController.cs:34</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset_html_a3bdbcb10d93ed6aa54928f0cd54166c2"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset.html#a3bdbcb10d93ed6aa54928f0cd54166c2">AinslieAPI.DTO.GSS.GSSAsset.Sell</a></div><div class="ttdeci">decimal Sell</div><div class="ttdef"><b>Definition</b> GSSPriceData.cs:21</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data_html_ae1752c3e772a310c0bc629076b110bbf"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#ae1752c3e772a310c0bc629076b110bbf">AinslieAPI.DTO.GSS.GSSPriceData.AssetList</a></div><div class="ttdeci">GSSAsset[] AssetList</div><div class="ttdef"><b>Definition</b> GSSPriceData.cs:10</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_user_helper_1_1_authenticated_user_html"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_user_helper_1_1_authenticated_user.html">AinslieAPI.DTO.UserHelper.AuthenticatedUser</a></div><div class="ttdef"><b>Definition</b> AuthenticatedUser.cs:6</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_app_settings_html_a40101ce107bba2b095e4196f0d1db3e9"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html#a40101ce107bba2b095e4196f0d1db3e9">AinslieAPI.Helpers.AppSettings.AwApiSettings</a></div><div class="ttdeci">AwApiSettings AwApiSettings</div><div class="ttdef"><b>Definition</b> AppSettings.cs:13</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings_html_a6ca6415b8e06af68870f32cd63e466cc"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings.html#a6ca6415b8e06af68870f32cd63e466cc">AinslieAPI.Helpers.AwApiSettings.TdcrUserName</a></div><div class="ttdeci">string TdcrUserName</div><div class="ttdef"><b>Definition</b> AppSettings.cs:83</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper_html_a533a0f6563d2e92e52c819c22c5009a6"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html#a533a0f6563d2e92e52c819c22c5009a6">AinslieAPI.Helpers.CacheDataHelper.GSSPricing</a></div><div class="ttdeci">GSSPriceData GSSPricing(string userName)</div><div class="ttdoc">Retrieves GSS pricing data for a specific user from cache or refreshes if necessary.</div><div class="ttdef"><b>Definition</b> CacheDataHelper.cs:233</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_services_1_1_log_service_html"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">AinslieAPI.Services.LogService</a></div><div class="ttdef"><b>Definition</b> LogService.cs:20</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_services_1_1_log_service_html_a9bf79a218e0884ac9cabd3ac87b81321"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a9bf79a218e0884ac9cabd3ac87b81321">AinslieAPI.Services.LogService.LogError</a></div><div class="ttdeci">LogEntry LogError(LogSources logSource, params object[] dataList)</div><div class="ttdef"><b>Definition</b> LogService.cs:66</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_services_1_1_log_service_html_ab557dc1394f5cf56cfb78c765fdfffe6"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">AinslieAPI.Services.LogService.LogSources</a></div><div class="ttdeci">LogSources</div><div class="ttdef"><b>Definition</b> LogService.cs:30</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a837b3bc6be2af122cb619aa347094ad7_cgraph.svg" width="100%" height="450"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ed8b7c2d20c40b06f57b02cd97058f0" name="a1ed8b7c2d20c40b06f57b02cd97058f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed8b7c2d20c40b06f57b02cd97058f0">&#9670;&#160;</a></span>BuildErrorString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string AinslieAPI.Controllers.GSS.TdcrController.BuildErrorString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr.html#af45942b6855ea8af3128b86e0f6c2a03">ErrorCodes</a></td>          <td class="paramname"><span class="paramname"><em>errorCode</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an error string based on the provided error code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errorCode</td><td>The error code for which to build the error string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string representing the error, formatted as 'ErrorCode_ErrorDescription'. Returns an empty string if the error code is 0.</dd></dl>
<p>Utilises helper methods to retrieve both the numeric value and the descriptive text of the given error code enum. Catches and logs exceptions that occur during the error string construction process, rethrowing a general exception to indicate failure. </p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>        {</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  321</span>            {</div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">if</span> (errorCode == 0) <span class="keywordflow">return</span> <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><span class="lineno">  323</span>                <span class="keywordflow">return</span> $<span class="stringliteral">&quot;{EnumsHelper.GetEnumValue(errorCode)}_{EnumsHelper.GetEnumDescription(errorCode)}&quot;</span>;</div>
<div class="line"><span class="lineno">  324</span>            }</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  326</span>            {</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception building tdcr order error string&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;exception building tdcr order error string&quot;</span>);</div>
<div class="line"><span class="lineno">  329</span>            }</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_services_1_1_log_service_html_a83bbf569dea7ea5a40e02fca200aad8c"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">AinslieAPI.Services.LogService.LogException</a></div><div class="ttdeci">LogEntry LogException(LogSources logSource, params object[] dataList)</div><div class="ttdef"><b>Definition</b> LogService.cs:72</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a1ed8b7c2d20c40b06f57b02cd97058f0_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a1ed8b7c2d20c40b06f57b02cd97058f0_icgraph.svg" width="439" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2afd83d8bf3e0f4695d32ea1f255f4a5" name="a2afd83d8bf3e0f4695d32ea1f255f4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afd83d8bf3e0f4695d32ea1f255f4a5">&#9670;&#160;</a></span>OrderLivePriceAUD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decimal AinslieAPI.Controllers.GSS.TdcrController.OrderLivePriceAUD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a></td>          <td class="paramname"><span class="paramname"><em>orderRequest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the current live price in AUD for a given asset based on the order request's market and side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orderRequest</td><td>The order request detailing the market and whether it's a buy or sell order.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The live price in AUD of the requested asset.</dd></dl>
<p>Determines the live price by: </p><ul>
<li>
Identifying the asset within the live price data based on the market specified in the order request. </li>
<li>
Selecting the appropriate price (buy for buy orders, sell for sell orders) for the identified asset. </li>
</ul>
<p>Exceptions during price retrieval are logged and rethrown to indicate failure in obtaining live pricing data. </p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>        {</div>
<div class="line"><span class="lineno">  259</span>            decimal livePriceAUD = 0m;</div>
<div class="line"><span class="lineno">  260</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  261</span>            {</div>
<div class="line"><span class="lineno">  262</span>                <span class="keywordflow">switch</span> (orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">side</a>)</div>
<div class="line"><span class="lineno">  263</span>                {</div>
<div class="line"><span class="lineno">  264</span>                    <span class="keywordflow">case</span> <span class="keywordtype">string</span> side when side.ToLower().Contains(<span class="stringliteral">&quot;buy&quot;</span>): <span class="comment">//buy from ainslie, use buy in gss pricing response</span></div>
<div class="line"><span class="lineno">  265</span>                        livePriceAUD = <a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#ae1752c3e772a310c0bc629076b110bbf">AssetList</a>?.Where(al =&gt; orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.ToLower().Contains(al.AssetSymbol.ToLower()))?.FirstOrDefault()?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset.html#a68d2eac5a8fb16e760992f000b5b0561">Buy</a> ?? 0;</div>
<div class="line"><span class="lineno">  266</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  267</span>                    <span class="keywordflow">case</span> <span class="keywordtype">string</span> side when side.ToLower().Contains(<span class="stringliteral">&quot;sell&quot;</span>): <span class="comment">//sell to ainslie, use sell in gss pricing response</span></div>
<div class="line"><span class="lineno">  268</span>                        livePriceAUD = <a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#ae1752c3e772a310c0bc629076b110bbf">AssetList</a>?.Where(al =&gt; orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.ToLower().Contains(al.AssetSymbol.ToLower()))?.FirstOrDefault()?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset.html#a3bdbcb10d93ed6aa54928f0cd54166c2">Sell</a> ?? 0;</div>
<div class="line"><span class="lineno">  269</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  270</span>                }</div>
<div class="line"><span class="lineno">  271</span>            }</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  273</span>            {</div>
<div class="line"><span class="lineno">  274</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception finding order live price&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  275</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;exception finding order live price&quot;</span>);</div>
<div class="line"><span class="lineno">  276</span>            }</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">return</span> livePriceAUD;</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset_html_a68d2eac5a8fb16e760992f000b5b0561"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_asset.html#a68d2eac5a8fb16e760992f000b5b0561">AinslieAPI.DTO.GSS.GSSAsset.Buy</a></div><div class="ttdeci">decimal Buy</div><div class="ttdef"><b>Definition</b> GSSPriceData.cs:20</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_a8777634497484b0b905c8b21853ab8c3"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">AinslieAPI.DTO.Tdcr.OrderRequest.side</a></div><div class="ttdeci">string side</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:6</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_a8820b48159005031f60bcb46aee243bc"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">AinslieAPI.DTO.Tdcr.OrderRequest.market</a></div><div class="ttdeci">string market</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:8</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a2afd83d8bf3e0f4695d32ea1f255f4a5_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a2afd83d8bf3e0f4695d32ea1f255f4a5_icgraph.svg" width="100%" height="362"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9eba319227d13605723ee5253d17b014" name="a9eba319227d13605723ee5253d17b014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eba319227d13605723ee5253d17b014">&#9670;&#160;</a></span>Orders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IActionResult AinslieAPI.Controllers.GSS.TdcrController.Orders </td>
          <td>(</td>
          <td class="paramtype">[FromBody] <a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a></td>          <td class="paramname"><span class="paramname"><em>orderRequest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes incoming order requests, validating and saving them to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orderRequest</td><td>The order request received from the client, containing transaction details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An IActionResult indicating the success or failure of the order processing.</dd></dl>
<p>Processes the order by: </p><ul>
<li>
Logging the request and validating it. </li>
<li>
Creating a new order with live price data if valid, and saving to the database. </li>
<li>
Returning appropriate response based on processing outcome. </li>
</ul>
<p>Directly returns a BadRequest for null requests, indicating an invalid input. </p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>        {</div>
<div class="line"><span class="lineno">   81</span>            <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a917b9af360c0c6521ce36f4acbc72023">LogInformation</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;request received on tdcr/order&quot;</span>, $<span class="stringliteral">&quot;authenticated user: {JwtUser?.EmailAddress}&quot;</span>, orderRequest);</div>
<div class="line"><span class="lineno">   82</span>            var orderResponse = <span class="keyword">new</span> <a class="code hl_class" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_response.html">OrderResponse</a>();</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">if</span> (orderRequest != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">   84</span>                <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   85</span>                {</div>
<div class="line"><span class="lineno">   86</span>                    orderResponse.transaction_id=orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a04727ed78b39f29cb32765bcaf3238f4">transaction_id</a>;</div>
<div class="line"><span class="lineno">   87</span>                    var validationErrors = <a class="code hl_function" href="#acdce12cbf8d3ceb33fc727648bf58fc8">ValidateOrderRequest</a>(orderRequest);</div>
<div class="line"><span class="lineno">   88</span>                    <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrWhiteSpace(validationErrors)) </div>
<div class="line"><span class="lineno">   89</span>                    {</div>
<div class="line"><span class="lineno">   90</span>                        var AUDUSD = <a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#aaedea497be994b66523a8e355e201fe4">AUDUSD</a> ?? 0m;</div>
<div class="line"><span class="lineno">   91</span>                        var tcdrOrder = <span class="keyword">new</span> <a class="code hl_class" href="class_ainslie_a_p_i_1_1_data_1_1_models_1_1_tdcr_1_1_order.html">Order</a>()</div>
<div class="line"><span class="lineno">   92</span>                        {</div>
<div class="line"><span class="lineno">   93</span>                            Created = DateTime.Now,</div>
<div class="line"><span class="lineno">   94</span>                            TdcrId = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a04727ed78b39f29cb32765bcaf3238f4">transaction_id</a>,</div>
<div class="line"><span class="lineno">   95</span>                            Side = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">side</a>,</div>
<div class="line"><span class="lineno">   96</span>                            Price = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ae6e3c5e914ba77964bc11f3d7e733b4b">price</a>,</div>
<div class="line"><span class="lineno">   97</span>                            Market = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>,</div>
<div class="line"><span class="lineno">   98</span>                            AUDUSD = AUDUSD,</div>
<div class="line"><span class="lineno">   99</span>                            LiveComparisonPriceAUD = <a class="code hl_function" href="#a2afd83d8bf3e0f4695d32ea1f255f4a5">OrderLivePriceAUD</a>(orderRequest),</div>
<div class="line"><span class="lineno">  100</span>                            TdcrTimestamp = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a80e92c27d262d6746827928dafc3e8de">created_at</a>,</div>
<div class="line"><span class="lineno">  101</span>                            Quantity = orderRequest.quantity</div>
<div class="line"><span class="lineno">  102</span>                        };</div>
<div class="line"><span class="lineno">  103</span>                        <a class="code hl_property" href="#afd3391f35cb75042f825d2ce9f88d670">_tdcrContext</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html#ac1241755f276b0fc4d324a60dc685c54">Orders</a>.Add(tcdrOrder);</div>
<div class="line"><span class="lineno">  104</span>                        <a class="code hl_property" href="#afd3391f35cb75042f825d2ce9f88d670">_tdcrContext</a>.SaveChanges();</div>
<div class="line"><span class="lineno">  105</span>                        orderResponse.success = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  106</span>                        <span class="keywordflow">return</span> Ok(orderResponse);</div>
<div class="line"><span class="lineno">  107</span>                    }</div>
<div class="line"><span class="lineno">  108</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  109</span>                    {</div>
<div class="line"><span class="lineno">  110</span>                        orderResponse.success = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  111</span>                        orderResponse.message = validationErrors;</div>
<div class="line"><span class="lineno">  112</span>                        <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a9bf79a218e0884ac9cabd3ac87b81321">LogError</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;order request validation failure&quot;</span>, $<span class="stringliteral">&quot;authenticated user: {JwtUser?.EmailAddress}&quot;</span>, orderResponse);</div>
<div class="line"><span class="lineno">  113</span>                    }</div>
<div class="line"><span class="lineno">  114</span>                }</div>
<div class="line"><span class="lineno">  115</span>                <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  116</span>                {</div>
<div class="line"><span class="lineno">  117</span>                    <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception building and inserting tdcr order&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  118</span>                    orderResponse.success = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  119</span>                    orderResponse.message = <a class="code hl_function" href="#a1ed8b7c2d20c40b06f57b02cd97058f0">BuildErrorString</a>(<a class="code hl_enumeration" href="namespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr.html#af45942b6855ea8af3128b86e0f6c2a03">ErrorCodes</a>.SERVER_ERROR);</div>
<div class="line"><span class="lineno">  120</span>                }</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">return</span> BadRequest(orderResponse);</div>
<div class="line"><span class="lineno">  122</span>            }</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  124</span>            {</div>
<div class="line"><span class="lineno">  125</span>                orderResponse.success = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  126</span>                orderResponse.message = <a class="code hl_function" href="#a1ed8b7c2d20c40b06f57b02cd97058f0">BuildErrorString</a>(<a class="code hl_enumeration" href="namespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr.html#af45942b6855ea8af3128b86e0f6c2a03">ErrorCodes</a>.INVALID_REQUEST_BODY);</div>
<div class="line"><span class="lineno">  127</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a9bf79a218e0884ac9cabd3ac87b81321">LogError</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;order request was null&quot;</span>, $<span class="stringliteral">&quot;authenticated user: {JwtUser?.EmailAddress}&quot;</span>, orderResponse);</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">return</span> BadRequest(orderResponse);</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a1ed8b7c2d20c40b06f57b02cd97058f0"><div class="ttname"><a href="#a1ed8b7c2d20c40b06f57b02cd97058f0">AinslieAPI.Controllers.GSS.TdcrController.BuildErrorString</a></div><div class="ttdeci">string BuildErrorString(ErrorCodes errorCode)</div><div class="ttdoc">Constructs an error string based on the provided error code.</div><div class="ttdef"><b>Definition</b> TdcrController.cs:318</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a2afd83d8bf3e0f4695d32ea1f255f4a5"><div class="ttname"><a href="#a2afd83d8bf3e0f4695d32ea1f255f4a5">AinslieAPI.Controllers.GSS.TdcrController.OrderLivePriceAUD</a></div><div class="ttdeci">decimal OrderLivePriceAUD(OrderRequest orderRequest)</div><div class="ttdoc">Fetches the current live price in AUD for a given asset based on the order request's market and side.</div><div class="ttdef"><b>Definition</b> TdcrController.cs:257</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_acdce12cbf8d3ceb33fc727648bf58fc8"><div class="ttname"><a href="#acdce12cbf8d3ceb33fc727648bf58fc8">AinslieAPI.Controllers.GSS.TdcrController.ValidateOrderRequest</a></div><div class="ttdeci">string ValidateOrderRequest(OrderRequest orderRequest)</div><div class="ttdoc">Validates the provided order request against business rules.</div><div class="ttdef"><b>Definition</b> TdcrController.cs:149</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data_html_aaedea497be994b66523a8e355e201fe4"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#aaedea497be994b66523a8e355e201fe4">AinslieAPI.DTO.GSS.GSSPriceData.AUDUSD</a></div><div class="ttdeci">decimal AUDUSD</div><div class="ttdef"><b>Definition</b> GSSPriceData.cs:9</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_a04727ed78b39f29cb32765bcaf3238f4"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a04727ed78b39f29cb32765bcaf3238f4">AinslieAPI.DTO.Tdcr.OrderRequest.transaction_id</a></div><div class="ttdeci">string transaction_id</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:5</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_a80e92c27d262d6746827928dafc3e8de"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a80e92c27d262d6746827928dafc3e8de">AinslieAPI.DTO.Tdcr.OrderRequest.created_at</a></div><div class="ttdeci">long created_at</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:9</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_ae6e3c5e914ba77964bc11f3d7e733b4b"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ae6e3c5e914ba77964bc11f3d7e733b4b">AinslieAPI.DTO.Tdcr.OrderRequest.price</a></div><div class="ttdeci">decimal price</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:7</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_response_html"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_response.html">AinslieAPI.DTO.Tdcr.OrderResponse</a></div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:14</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context_html_ac1241755f276b0fc4d324a60dc685c54"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html#ac1241755f276b0fc4d324a60dc685c54">AinslieAPI.Data.Contexts.TdcrContext.Orders</a></div><div class="ttdeci">virtual DbSet&lt; Order &gt; Orders</div><div class="ttdef"><b>Definition</b> TdcrContext.cs:22</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_data_1_1_models_1_1_tdcr_1_1_order_html"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_data_1_1_models_1_1_tdcr_1_1_order.html">AinslieAPI.Data.Models.Tdcr.Order</a></div><div class="ttdef"><b>Definition</b> Order.cs:9</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_services_1_1_log_service_html_a917b9af360c0c6521ce36f4acbc72023"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a917b9af360c0c6521ce36f4acbc72023">AinslieAPI.Services.LogService.LogInformation</a></div><div class="ttdeci">LogEntry LogInformation(LogSources logSource, params object[] dataList)</div><div class="ttdef"><b>Definition</b> LogService.cs:59</div></div>
<div class="ttc" id="anamespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_html_af45942b6855ea8af3128b86e0f6c2a03"><div class="ttname"><a href="namespace_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr.html#af45942b6855ea8af3128b86e0f6c2a03">AinslieAPI.DTO.Tdcr.ErrorCodes</a></div><div class="ttdeci">ErrorCodes</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:21</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a9eba319227d13605723ee5253d17b014_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5425d57dc6e7f08c36785f3ca41d30ab" name="a5425d57dc6e7f08c36785f3ca41d30ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5425d57dc6e7f08c36785f3ca41d30ab">&#9670;&#160;</a></span>PriceOutsideThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AinslieAPI.Controllers.GSS.TdcrController.PriceOutsideThreshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a></td>          <td class="paramname"><span class="paramname"><em>orderRequest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether the price specified in an order request falls outside the acceptable threshold as defined by the system's configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orderRequest</td><td>The order request containing the market, price, and side (buy/sell) details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A bool value indicating whether the order price is outside the defined threshold.</dd></dl>
<p>Executes a streamlined validation process to assess order price validity against system thresholds and market rates, focusing on: </p><ul>
<li>
Immediate validation of order price positivity. </li>
<li>
Conversion of order price to AUD for unified comparison, when applicable. </li>
<li>
Comparison against live prices, adjusting for buy or sell side specifics. </li>
<li>
Utilisation of configured thresholds to ascertain acceptability of price deviation. </li>
</ul>
<div class="fragment"><div class="line"><span class="lineno">  191</span>        {</div>
<div class="line"><span class="lineno">  192</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  193</span>            {</div>
<div class="line"><span class="lineno">  194</span>                <span class="keywordflow">if</span> (orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ae6e3c5e914ba77964bc11f3d7e733b4b">price</a> &lt;= 0)</div>
<div class="line"><span class="lineno">  195</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  196</span>                var AUDUSD = <a class="code hl_property" href="#a3c7188de077e7385a6b1498191b40e4e">_livePriceData</a>?.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html#aaedea497be994b66523a8e355e201fe4">AUDUSD</a> ?? 0;</div>
<div class="line"><span class="lineno">  197</span>                <span class="keywordflow">if</span> (AUDUSD == 0 &amp;&amp; orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.Contains(<span class="stringliteral">&quot;usd&quot;</span>))</div>
<div class="line"><span class="lineno">  198</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//cant do check - default to allow</span></div>
<div class="line"><span class="lineno">  199</span>                var orderPriceAUD = orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.ToLower().Contains(<span class="stringliteral">&quot;usd&quot;</span>) ? orderRequest.price / AUDUSD : orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ae6e3c5e914ba77964bc11f3d7e733b4b">price</a>;</div>
<div class="line"><span class="lineno">  200</span>                decimal comparisonPriceAUD = <a class="code hl_function" href="#a2afd83d8bf3e0f4695d32ea1f255f4a5">OrderLivePriceAUD</a>(orderRequest);</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">if</span> (comparisonPriceAUD &lt;= 0)</div>
<div class="line"><span class="lineno">  202</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//cant do check - default to allow</span></div>
<div class="line"><span class="lineno">  203</span>                <span class="keywordflow">switch</span> (orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">side</a>)</div>
<div class="line"><span class="lineno">  204</span>                {</div>
<div class="line"><span class="lineno">  205</span>                    <span class="keywordflow">case</span> <span class="keywordtype">string</span> side when side.ToLower().Contains(<span class="stringliteral">&quot;buy&quot;</span>): <span class="comment">//buy from ainslie</span></div>
<div class="line"><span class="lineno">  206</span>                        <span class="comment">//only concerned if order is below our sell price</span></div>
<div class="line"><span class="lineno">  207</span>                        <span class="keywordflow">if</span> (orderPriceAUD &lt; comparisonPriceAUD)</div>
<div class="line"><span class="lineno">  208</span>                        {</div>
<div class="line"><span class="lineno">  209</span>                            var percentBelow = Math.Abs(comparisonPriceAUD - orderPriceAUD) / ((comparisonPriceAUD + orderPriceAUD) / 2) * 100;</div>
<div class="line"><span class="lineno">  210</span>                            <span class="comment">//find sell threshold in config, if breaks the threshold, return true</span></div>
<div class="line"><span class="lineno">  211</span>                            var threshold = <a class="code hl_property" href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">_appSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html#a7361d15c00c5d16a9baad3ac50607cd8">TDCROrderSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_t_d_c_r_order_settings.html#a09ae7cd72cde8df7c237585023db14c2">TokenThresholds</a>?.Where(tt =&gt; orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.ToLower().Contains(tt.AssetCode.ToLower())).FirstOrDefault();</div>
<div class="line"><span class="lineno">  212</span>                            <span class="keywordflow">if</span> (threshold != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  213</span>                            {</div>
<div class="line"><span class="lineno">  214</span>                                <span class="keywordflow">if</span> (percentBelow &gt; threshold.Sell) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  215</span>                            }</div>
<div class="line"><span class="lineno">  216</span>                        }</div>
<div class="line"><span class="lineno">  217</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  218</span>                    <span class="keywordflow">case</span> <span class="keywordtype">string</span> side when side.ToLower().Contains(<span class="stringliteral">&quot;sell&quot;</span>): <span class="comment">//sell to ainslie</span></div>
<div class="line"><span class="lineno">  219</span>                        <span class="comment">//only concerned if order price is above our buyback price</span></div>
<div class="line"><span class="lineno">  220</span>                        <span class="keywordflow">if</span> (orderPriceAUD &gt; comparisonPriceAUD)</div>
<div class="line"><span class="lineno">  221</span>                        {</div>
<div class="line"><span class="lineno">  222</span>                            var percentAbove = Math.Abs(comparisonPriceAUD - orderPriceAUD) / ((comparisonPriceAUD + orderPriceAUD) / 2) * 100;</div>
<div class="line"><span class="lineno">  223</span>                            <span class="comment">//find buyback threshold in config, if breaks the threshold, return true</span></div>
<div class="line"><span class="lineno">  224</span>                            var threshold = <a class="code hl_property" href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">_appSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html#a7361d15c00c5d16a9baad3ac50607cd8">TDCROrderSettings</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_helpers_1_1_t_d_c_r_order_settings.html#a09ae7cd72cde8df7c237585023db14c2">TokenThresholds</a>?.Where(tt =&gt; orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>.ToLower().Contains(tt.AssetCode.ToLower())).FirstOrDefault();</div>
<div class="line"><span class="lineno">  225</span>                            <span class="keywordflow">if</span> (threshold != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  226</span>                            {</div>
<div class="line"><span class="lineno">  227</span>                                <span class="keywordflow">if</span> (percentAbove &gt; threshold.Buy) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  228</span>                            }</div>
<div class="line"><span class="lineno">  229</span>                        }</div>
<div class="line"><span class="lineno">  230</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  231</span>                }</div>
<div class="line"><span class="lineno">  232</span>            }</div>
<div class="line"><span class="lineno">  233</span>            <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  234</span>            {</div>
<div class="line"><span class="lineno">  235</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception checking price threshold&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  236</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;exception checking price threshold&quot;</span>);</div>
<div class="line"><span class="lineno">  237</span>            }</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_app_settings_html_a7361d15c00c5d16a9baad3ac50607cd8"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html#a7361d15c00c5d16a9baad3ac50607cd8">AinslieAPI.Helpers.AppSettings.TDCROrderSettings</a></div><div class="ttdeci">TDCROrderSettings TDCROrderSettings</div><div class="ttdef"><b>Definition</b> AppSettings.cs:12</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_t_d_c_r_order_settings_html_a09ae7cd72cde8df7c237585023db14c2"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_t_d_c_r_order_settings.html#a09ae7cd72cde8df7c237585023db14c2">AinslieAPI.Helpers.TDCROrderSettings.TokenThresholds</a></div><div class="ttdeci">List&lt; Threshold &gt; TokenThresholds</div><div class="ttdef"><b>Definition</b> AppSettings.cs:67</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a5425d57dc6e7f08c36785f3ca41d30ab_cgraph.svg" width="100%" height="362"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a5425d57dc6e7f08c36785f3ca41d30ab_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a464a5d3df062bef894118260d86989f3" name="a464a5d3df062bef894118260d86989f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464a5d3df062bef894118260d86989f3">&#9670;&#160;</a></span>TdcrOrderExists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AinslieAPI.Controllers.GSS.TdcrController.TdcrOrderExists </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>TdcrId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if an order with the specified TDCR ID exists in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TdcrId</td><td>The TDCR ID of the order to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A bool value indicating whether an order with the given TDCR ID exists.</dd></dl>
<p>Performs a straightforward database query to count orders matching the provided TDCR ID, returning true if at least one match is found. Exception handling is implemented to log any errors encountered during the query process and rethrow a generic exception to signal the failure. </p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>        {</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  295</span>            {</div>
<div class="line"><span class="lineno">  296</span>                <span class="keywordflow">if</span> (<a class="code hl_property" href="#afd3391f35cb75042f825d2ce9f88d670">_tdcrContext</a>.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html#ac1241755f276b0fc4d324a60dc685c54">Orders</a>.AsNoTracking().Count(ord =&gt; ord.TdcrId == TdcrId) &gt; 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  297</span>            }</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  299</span>            {</div>
<div class="line"><span class="lineno">  300</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception checking if tdcr order exists&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  301</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;exception checking if tdcr order exists&quot;</span>);</div>
<div class="line"><span class="lineno">  302</span>            }</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  304</span>        }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a464a5d3df062bef894118260d86989f3_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_a464a5d3df062bef894118260d86989f3_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acdce12cbf8d3ceb33fc727648bf58fc8" name="acdce12cbf8d3ceb33fc727648bf58fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdce12cbf8d3ceb33fc727648bf58fc8">&#9670;&#160;</a></span>ValidateOrderRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string AinslieAPI.Controllers.GSS.TdcrController.ValidateOrderRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html">OrderRequest</a></td>          <td class="paramname"><span class="paramname"><em>orderRequest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates the provided order request against business rules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orderRequest</td><td>The order request to validate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing error messages if validation fails; otherwise, an empty string.</dd></dl>
<p>This validation checks for: </p><ul>
<li>
Existence of the transaction ID. </li>
<li>
Validity of transaction ID, side, price, market, created_at timestamp, and quantity. </li>
<li>
Order price against the threshold for the specified market and side. </li>
</ul>
<p>Errors are aggregated and returned as a single string. Throws an exception if an unexpected error occurs. </p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>        {</div>
<div class="line"><span class="lineno">  151</span>            var err = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  153</span>            {</div>
<div class="line"><span class="lineno">  154</span>                List&lt;string&gt; markets = <span class="keyword">new</span> List&lt;string&gt;() { <span class="stringliteral">&quot;AUSUSD&quot;</span>, <span class="stringliteral">&quot;AGSUSD&quot;</span>, <span class="stringliteral">&quot;AUSAUD&quot;</span>, <span class="stringliteral">&quot;AGSAUD&quot;</span> };</div>
<div class="line"><span class="lineno">  155</span>                List&lt;string&gt; sides = <span class="keyword">new</span> List&lt;string&gt;() { <span class="stringliteral">&quot;BUY&quot;</span>, <span class="stringliteral">&quot;SELL&quot;</span> };</div>
<div class="line"><span class="lineno">  156</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="#a464a5d3df062bef894118260d86989f3">TdcrOrderExists</a>(orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a04727ed78b39f29cb32765bcaf3238f4">transaction_id</a>)) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.TRANSACTION_ID_ALREADY_EXISTS)}&quot;</span>);</div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrWhiteSpace(orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a04727ed78b39f29cb32765bcaf3238f4">transaction_id</a>)) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_TRANSACTIONID)}&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrWhiteSpace(orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">side</a>) || !sides.Any(s =&gt; s == orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8777634497484b0b905c8b21853ab8c3">side</a>)) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_SIDE)}&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span>                <span class="keywordflow">if</span> (orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ae6e3c5e914ba77964bc11f3d7e733b4b">price</a> &lt;= 0) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_PRICE)}&quot;</span>);</div>
<div class="line"><span class="lineno">  160</span>                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrWhiteSpace(orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>) || !markets.Any(m =&gt; m == orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a8820b48159005031f60bcb46aee243bc">market</a>)) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_MARKET)}&quot;</span>);</div>
<div class="line"><span class="lineno">  161</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="class_ainslie_a_p_i_1_1_helpers_1_1_shared_tools.html">SharedTools</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_helpers_1_1_shared_tools.html#a5d26beaa558c5d4b15370f0308f447bf">UnixTimeSecondsToLocalTime</a>(orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#a80e92c27d262d6746827928dafc3e8de">created_at</a>) == <span class="keyword">null</span>) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_CREATED_AT)}&quot;</span>);</div>
<div class="line"><span class="lineno">  162</span>                <span class="keywordflow">if</span> (orderRequest.<a class="code hl_property" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ad471150c2f427690fbe6e03082d5e577">quantity</a> &lt;= 0) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.INVALID_FIELD_VALUE_QUANTITY)}&quot;</span>);</div>
<div class="line"><span class="lineno">  163</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="#a5425d57dc6e7f08c36785f3ca41d30ab">PriceOutsideThreshold</a>(orderRequest)) err.Add($<span class="stringliteral">&quot;{BuildErrorString(ErrorCodes.PRICE_OUTSIDE_THRESHOLD)}&quot;</span>);</div>
<div class="line"><span class="lineno">  164</span>            }</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  166</span>            {</div>
<div class="line"><span class="lineno">  167</span>                <a class="code hl_property" href="#aa38b13d3e5bdb9801cee343984590d69">_logger</a>.<a class="code hl_function" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#a83bbf569dea7ea5a40e02fca200aad8c">LogException</a>(<a class="code hl_class" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a>.<a class="code hl_enumeration" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html#ab557dc1394f5cf56cfb78c765fdfffe6">LogSources</a>.TdcrController, $<span class="stringliteral">&quot;exception validating order&quot;</span>, ex);</div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;exception validating order&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>            }</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">return</span> <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;, &quot;</span>, err);</div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a464a5d3df062bef894118260d86989f3"><div class="ttname"><a href="#a464a5d3df062bef894118260d86989f3">AinslieAPI.Controllers.GSS.TdcrController.TdcrOrderExists</a></div><div class="ttdeci">bool TdcrOrderExists(string TdcrId)</div><div class="ttdoc">Checks if an order with the specified TDCR ID exists in the database.</div><div class="ttdef"><b>Definition</b> TdcrController.cs:292</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_html_a5425d57dc6e7f08c36785f3ca41d30ab"><div class="ttname"><a href="#a5425d57dc6e7f08c36785f3ca41d30ab">AinslieAPI.Controllers.GSS.TdcrController.PriceOutsideThreshold</a></div><div class="ttdeci">bool PriceOutsideThreshold(OrderRequest orderRequest)</div><div class="ttdoc">Determines whether the price specified in an order request falls outside the acceptable threshold as ...</div><div class="ttdef"><b>Definition</b> TdcrController.cs:190</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request_html_ad471150c2f427690fbe6e03082d5e577"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_d_t_o_1_1_tdcr_1_1_order_request.html#ad471150c2f427690fbe6e03082d5e577">AinslieAPI.DTO.Tdcr.OrderRequest.quantity</a></div><div class="ttdeci">decimal quantity</div><div class="ttdef"><b>Definition</b> TdcrDTO.cs:10</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_shared_tools_html"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_shared_tools.html">AinslieAPI.Helpers.SharedTools</a></div><div class="ttdoc">Provides utility methods for common data manipulation tasks, such as stripping HTML and removing non-...</div><div class="ttdef"><b>Definition</b> SharedTools.cs:10</div></div>
<div class="ttc" id="aclass_ainslie_a_p_i_1_1_helpers_1_1_shared_tools_html_a5d26beaa558c5d4b15370f0308f447bf"><div class="ttname"><a href="class_ainslie_a_p_i_1_1_helpers_1_1_shared_tools.html#a5d26beaa558c5d4b15370f0308f447bf">AinslieAPI.Helpers.SharedTools.UnixTimeSecondsToLocalTime</a></div><div class="ttdeci">static ? DateTime UnixTimeSecondsToLocalTime(long unixTimestamp)</div><div class="ttdoc">Converts a Unix timestamp to a local DateTime.</div><div class="ttdef"><b>Definition</b> SharedTools.cs:60</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_acdce12cbf8d3ceb33fc727648bf58fc8_cgraph.svg" width="100%" height="451"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller_acdce12cbf8d3ceb33fc727648bf58fc8_icgraph.svg" width="475" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7114721dd614937f38ea1757206cc31e" name="a7114721dd614937f38ea1757206cc31e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7114721dd614937f38ea1757206cc31e">&#9670;&#160;</a></span>JwtUser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_user_helper_1_1_authenticated_user.html">AuthenticatedUser</a>? AinslieAPI.Controllers.GSS.TdcrController.JwtUser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a83bdb97c7c1b4a05e61ebd8deaf06ed6" name="a83bdb97c7c1b4a05e61ebd8deaf06ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83bdb97c7c1b4a05e61ebd8deaf06ed6">&#9670;&#160;</a></span>_appSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_app_settings.html">AppSettings</a> AinslieAPI.Controllers.GSS.TdcrController._appSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   36</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8719413e16c851137491d336b2c593d3" name="a8719413e16c851137491d336b2c593d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8719413e16c851137491d336b2c593d3">&#9670;&#160;</a></span>_cacheDataHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_helpers_1_1_cache_data_helper.html">CacheDataHelper</a> AinslieAPI.Controllers.GSS.TdcrController._cacheDataHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   35</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acdd9fb842325482d76f3b37934d1142d" name="acdd9fb842325482d76f3b37934d1142d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd9fb842325482d76f3b37934d1142d">&#9670;&#160;</a></span>_httpContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HttpContext? AinslieAPI.Controllers.GSS.TdcrController._httpContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   33</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c7188de077e7385a6b1498191b40e4e" name="a3c7188de077e7385a6b1498191b40e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7188de077e7385a6b1498191b40e4e">&#9670;&#160;</a></span>_livePriceData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data.html">GSSPriceData</a>? AinslieAPI.Controllers.GSS.TdcrController._livePriceData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa38b13d3e5bdb9801cee343984590d69" name="aa38b13d3e5bdb9801cee343984590d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38b13d3e5bdb9801cee343984590d69">&#9670;&#160;</a></span>_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_services_1_1_log_service.html">LogService</a> AinslieAPI.Controllers.GSS.TdcrController._logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   37</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd3391f35cb75042f825d2ce9f88d670" name="afd3391f35cb75042f825d2ce9f88d670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3391f35cb75042f825d2ce9f88d670">&#9670;&#160;</a></span>_tdcrContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_tdcr_context.html">TdcrContext</a> AinslieAPI.Controllers.GSS.TdcrController._tdcrContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   34</span>{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/STRIDER/source/repos/AinslieAPI/Controllers/GSS/<a class="el" href="_tdcr_controller_8cs.html">TdcrController.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_ainslie_a_p_i.html">AinslieAPI</a></li><li class="navelem"><a class="el" href="namespace_ainslie_a_p_i_1_1_controllers.html">Controllers</a></li><li class="navelem"><a class="el" href="namespace_ainslie_a_p_i_1_1_controllers_1_1_g_s_s.html">GSS</a></li><li class="navelem"><a class="el" href="class_ainslie_a_p_i_1_1_controllers_1_1_g_s_s_1_1_tdcr_controller.html">TdcrController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
