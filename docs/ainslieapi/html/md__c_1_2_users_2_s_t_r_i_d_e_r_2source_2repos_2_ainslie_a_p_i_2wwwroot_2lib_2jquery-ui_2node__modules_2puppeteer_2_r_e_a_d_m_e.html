<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AinslieAPI: Puppeteer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AinslieAPI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__modules_2puppeteer_2_r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Puppeteer</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10935"></a></p>
<p><a href="https://travis-ci.com/puppeteer/puppeteer"><img src="https://img.shields.io/travis/com/puppeteer/puppeteer/main.svg" alt="Build status" style="pointer-events: none;" class="inline"/></a> <a href="https://npmjs.org/package/puppeteer"><img src="https://img.shields.io/npm/v/puppeteer.svg" alt="npm puppeteer package" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/puppeteer/puppeteer/issues"><img src="https://isitmaintained.com/badge/resolution/puppeteer/puppeteer.svg" alt="Issue resolution status" style="pointer-events: none;" class="inline"/></a></p>
<p><img src="https://user-images.githubusercontent.com/10379601/29446482-04f7036a-841f-11e7-9872-91d1fc2ea683.png" alt="" height="200" align="right" class="inline"/></p>
<h5><a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md">API</a> | @ref "faq" "FAQ" | <a href="https://github.com/puppeteer/puppeteer/blob/main/CONTRIBUTING.md">Contributing</a> | <a href="https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md">Troubleshooting</a></h5>
<blockquote class="doxtable">
<p>&zwj;Puppeteer is a Node library which provides a high-level API to control Chrome or Chromium over the <a href="https://chromedevtools.github.io/devtools-protocol/">DevTools Protocol</a>. Puppeteer runs <a href="https://developers.google.com/web/updates/2017/04/headless-chrome">headless</a> by default, but can be configured to run full (non-headless) Chrome or Chromium. </p>
</blockquote>
<h5>What can I do?</h5>
<p>Most things that you can do manually in the browser can be done using Puppeteer! Here are a few examples to get you started:</p>
<ul>
<li>Generate screenshots and PDFs of pages.</li>
<li>Crawl a SPA (Single-Page Application) and generate pre-rendered content (i.e. "SSR" (Server-Side Rendering)).</li>
<li>Automate form submission, UI testing, keyboard input, etc.</li>
<li>Create an up-to-date, automated testing environment. Run your tests directly in the latest version of Chrome using the latest JavaScript and browser features.</li>
<li>Capture a <a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/reference">timeline trace</a> of your site to help diagnose performance issues.</li>
<li>Test Chrome Extensions.</li>
</ul>
<p>Give it a spin: <a href="https://try-puppeteer.appspot.com/">https://try-puppeteer.appspot.com/</a></p>
<h1><a class="anchor" id="autotoc_md10936"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md10937"></a>
Installation</h2>
<p>To use Puppeteer in your project, run:</p>
<div class="fragment"><div class="line">npm i puppeteer</div>
<div class="line"># or &quot;yarn add puppeteer&quot;</div>
</div><!-- fragment --><p>Note: When you install Puppeteer, it downloads a recent version of Chromium (~170MB Mac, ~282MB Linux, ~280MB Win) that is guaranteed to work with the API. To skip the download, or to download a different browser, see <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#environment-variables">Environment variables</a>.</p>
<h2><a class="anchor" id="autotoc_md10938"></a>
puppeteer-core</h2>
<p>Since version 1.7.0 we publish the <a href="https://www.npmjs.com/package/puppeteer-core"><code>puppeteer-core</code></a> package, a version of Puppeteer that doesn't download any browser by default.</p>
<div class="fragment"><div class="line">npm i puppeteer-core</div>
<div class="line"># or &quot;yarn add puppeteer-core&quot;</div>
</div><!-- fragment --><p><code>puppeteer-core</code> is intended to be a lightweight version of Puppeteer for launching an existing browser installation or for connecting to a remote one. Be sure that the version of puppeteer-core you install is compatible with the browser you intend to connect to.</p>
<p>See <a href="https://github.com/puppeteer/puppeteer/blob/main/docs/api.md#puppeteer-vs-puppeteer-core">puppeteer vs puppeteer-core</a>.</p>
<h2><a class="anchor" id="autotoc_md10939"></a>
Usage</h2>
<p>Puppeteer follows the latest <a href="https://github.com/nodejs/Release#release-schedule">maintenance LTS</a> version of Node.</p>
<p>Note: Prior to v1.18.1, Puppeteer required at least Node v6.4.0. Versions from v1.18.1 to v2.1.0 rely on Node 8.9.0+. Starting from v3.0.0 Puppeteer starts to rely on Node 10.18.1+. All examples below use async/await which is only supported in Node v7.6.0 or greater.</p>
<p>Puppeteer will be familiar to people using other browser testing frameworks. You create an instance of <code>Browser</code>, open pages, and then manipulate them with <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#">Puppeteer's API</a>.</p>
<p><b>Example</b> - navigating to <a href="https://example.com">https://example.com</a> and saving a screenshot as <em>example.png</em>:</p>
<p>Save file as <b>example.js</b></p>
<div class="fragment"><div class="line">const puppeteer = require(&#39;puppeteer&#39;);</div>
<div class="line"> </div>
<div class="line">(async () =&gt; {</div>
<div class="line">  const browser = await puppeteer.launch();</div>
<div class="line">  const page = await browser.newPage();</div>
<div class="line">  await page.goto(&#39;https://example.com&#39;);</div>
<div class="line">  await page.screenshot({path: &#39;example.png&#39;});</div>
<div class="line"> </div>
<div class="line">  await browser.close();</div>
<div class="line">})();</div>
</div><!-- fragment --><p>Execute script on the command line</p>
<div class="fragment"><div class="line">node example.js</div>
</div><!-- fragment --><p>Puppeteer sets an initial page size to 800×600px, which defines the screenshot size. The page size can be customized with <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#pagesetviewportviewport"><code>Page.setViewport()</code></a>.</p>
<p><b>Example</b> - create a PDF.</p>
<p>Save file as <b>hn.js</b></p>
<div class="fragment"><div class="line">const puppeteer = require(&#39;puppeteer&#39;);</div>
<div class="line"> </div>
<div class="line">(async () =&gt; {</div>
<div class="line">  const browser = await puppeteer.launch();</div>
<div class="line">  const page = await browser.newPage();</div>
<div class="line">  await page.goto(&#39;https://news.ycombinator.com&#39;, {waitUntil: &#39;networkidle2&#39;});</div>
<div class="line">  await page.pdf({path: &#39;hn.pdf&#39;, format: &#39;A4&#39;});</div>
<div class="line"> </div>
<div class="line">  await browser.close();</div>
<div class="line">})();</div>
</div><!-- fragment --><p>Execute script on the command line</p>
<div class="fragment"><div class="line">node hn.js</div>
</div><!-- fragment --><p>See <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#pagepdfoptions"><code>Page.pdf()</code></a> for more information about creating pdfs.</p>
<p><b>Example</b> - evaluate script in the context of the page</p>
<p>Save file as <b>get-dimensions.js</b></p>
<div class="fragment"><div class="line">const puppeteer = require(&#39;puppeteer&#39;);</div>
<div class="line"> </div>
<div class="line">(async () =&gt; {</div>
<div class="line">  const browser = await puppeteer.launch();</div>
<div class="line">  const page = await browser.newPage();</div>
<div class="line">  await page.goto(&#39;https://example.com&#39;);</div>
<div class="line"> </div>
<div class="line">  // Get the &quot;viewport&quot; of the page, as reported by the page.</div>
<div class="line">  const dimensions = await page.evaluate(() =&gt; {</div>
<div class="line">    return {</div>
<div class="line">      width: document.documentElement.clientWidth,</div>
<div class="line">      height: document.documentElement.clientHeight,</div>
<div class="line">      deviceScaleFactor: window.devicePixelRatio</div>
<div class="line">    };</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;Dimensions:&#39;, dimensions);</div>
<div class="line"> </div>
<div class="line">  await browser.close();</div>
<div class="line">})();</div>
</div><!-- fragment --><p>Execute script on the command line</p>
<div class="fragment"><div class="line">node get-dimensions.js</div>
</div><!-- fragment --><p>See <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#pageevaluatepagefunction-args"><code>Page.evaluate()</code></a> for more information on <code>evaluate</code> and related methods like <code>evaluateOnNewDocument</code> and <code>exposeFunction</code>.</p>
<h1><a class="anchor" id="autotoc_md10940"></a>
Default runtime settings</h1>
<p><b>1. Uses Headless mode</b></p>
<p>Puppeteer launches Chromium in <a href="https://developers.google.com/web/updates/2017/04/headless-chrome">headless mode</a>. To launch a full version of Chromium, set the <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#puppeteerlaunchoptions"><code>headless</code> option</a> when launching a browser:</p>
<div class="fragment"><div class="line">const browser = await puppeteer.launch({headless: false}); // default is true</div>
</div><!-- fragment --><p><b>2. Runs a bundled version of Chromium</b></p>
<p>By default, Puppeteer downloads and uses a specific version of Chromium so its API is guaranteed to work out of the box. To use Puppeteer with a different version of Chrome or Chromium, pass in the executable's path when creating a <code>Browser</code> instance:</p>
<div class="fragment"><div class="line">const browser = await puppeteer.launch({executablePath: &#39;/path/to/Chrome&#39;});</div>
</div><!-- fragment --><p>You can also use Puppeteer with Firefox Nightly (experimental support). See <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#puppeteerlaunchoptions"><code>Puppeteer.launch()</code></a> for more information.</p>
<p>See <a href="https://www.howtogeek.com/202825/what%E2%80%99s-the-difference-between-chromium-and-chrome/"><code>this article</code></a> for a description of the differences between Chromium and Chrome. <a href="https://chromium.googlesource.com/chromium/src/+/master/docs/chromium_browser_vs_google_chrome.md"><code>This article</code></a> describes some differences for Linux users.</p>
<p><b>3. Creates a fresh user profile</b></p>
<p>Puppeteer creates its own browser user profile which it <b>cleans up on every run</b>.</p>
<h1><a class="anchor" id="autotoc_md10941"></a>
Resources</h1>
<ul>
<li><a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md">API Documentation</a></li>
<li><a href="https://github.com/puppeteer/puppeteer/tree/main/examples/">Examples</a></li>
<li><a href="https://github.com/transitive-bullshit/awesome-puppeteer">Community list of Puppeteer resources</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md10942"></a>
Debugging tips</h1>
<ol type="1">
<li><p class="startli">Turn off headless mode - sometimes it's useful to see what the browser is displaying. Instead of launching in headless mode, launch a full version of the browser using <code>headless: false</code>:</p>
<div class="fragment"><div class="line">const browser = await puppeteer.launch({headless: false});</div>
</div><!-- fragment --></li>
<li><p class="startli">Slow it down - the <code>slowMo</code> option slows down Puppeteer operations by the specified amount of milliseconds. It's another way to help see what's going on.</p>
<div class="fragment"><div class="line">const browser = await puppeteer.launch({</div>
<div class="line">  headless: false,</div>
<div class="line">  slowMo: 250 // slow down by 250ms</div>
<div class="line">});</div>
</div><!-- fragment --></li>
<li><p class="startli">Capture console output - You can listen for the <code>console</code> event. This is also handy when debugging code in <code>page.evaluate()</code>:</p>
<div class="fragment"><div class="line">page.on(&#39;console&#39;, msg =&gt; console.log(&#39;PAGE LOG:&#39;, msg.text()));</div>
<div class="line"> </div>
<div class="line">await page.evaluate(() =&gt; console.log(`url is ${location.href}`));</div>
</div><!-- fragment --></li>
<li><p class="startli">Use debugger in application code browser</p>
<p class="startli">There are two execution context: node.js that is running test code, and the browser running application code being tested. This lets you debug code in the application code browser; ie code inside <code>evaluate()</code>.</p><ul>
<li><p class="startli">Use <code>{devtools: true}</code> when launching Puppeteer:</p>
<div class="fragment"><div class="line">const browser = await puppeteer.launch({devtools: true});</div>
</div><!-- fragment --></li>
<li><p class="startli">Change default test timeout:</p>
<p class="startli">jest: <code>jest.setTimeout(100000);</code></p>
<p class="startli">jasmine: <code>jasmine.DEFAULT_TIMEOUT_INTERVAL = 100000;</code></p>
<p class="startli">mocha: <code>this.timeout(100000);</code> (don't forget to change test to use <a href="https://stackoverflow.com/a/23492442">function and not '=&gt;'</a>)</p>
</li>
<li><p class="startli">Add an evaluate statement with <code>debugger</code> inside / add <code>debugger</code> to an existing evaluate statement:</p>
<p class="startli"><code>js await page.evaluate(() =&gt; {debugger;}); </code></p>
<p class="startli">The test will now stop executing in the above evaluate statement, and chromium will stop in debug mode.</p>
</li>
</ul>
</li>
<li><p class="startli">Use debugger in node.js</p>
<p class="startli">This will let you debug test code. For example, you can step over <code>await page.click()</code> in the node.js script and see the click happen in the application code browser.</p>
<p class="startli">Note that you won't be able to run <code>await page.click()</code> in DevTools console due to this <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=833928">Chromium bug</a>. So if you want to try something out, you have to add it to your test file.</p><ul>
<li><p class="startli">Add <code>debugger;</code> to your test, eg:</p>
<div class="fragment"><div class="line">debugger;</div>
<div class="line">await page.click(&#39;a[target=_blank]&#39;);</div>
</div><!-- fragment --></li>
<li>Set <code>headless</code> to <code>false</code></li>
<li>Run <code>node --inspect-brk</code>, eg <code>node --inspect-brk node_modules/.bin/jest tests</code></li>
<li>In Chrome open <code>chrome://inspect/#devices</code> and click <code>inspect</code></li>
<li>In the newly opened test browser, type <code>F8</code> to resume test execution</li>
<li>Now your <code>debugger</code> will be hit and you can debug in the test browser</li>
</ul>
</li>
<li>Enable verbose logging - internal DevTools protocol traffic will be logged via the <a href="https://github.com/visionmedia/debug"><code>debug</code></a> module under the <code>puppeteer</code> namespace. <pre class="fragment"> # Basic verbose logging
 env DEBUG="puppeteer:*" node script.js

 # Protocol traffic can be rather noisy. This example filters out all Network domain messages
 env DEBUG="puppeteer:*" env DEBUG_COLORS=true node script.js 2&gt;&amp;1 | grep -v '"Network'
</pre></li>
<li>Debug your Puppeteer (node) code easily, using <a href="https://github.com/GoogleChromeLabs/ndb">ndb</a><ul>
<li><code>npm install -g ndb</code> (or even better, use <a href="https://github.com/zkat/npx">npx</a>!)</li>
<li>add a <code>debugger</code> to your Puppeteer (node) code</li>
<li><p class="startli">add <code>ndb</code> (or <code>npx ndb</code>) before your test command. For example:</p>
<p class="startli"><code>ndb jest</code> or <code>ndb mocha</code> (or <code>npx ndb jest</code> / <code>npx ndb mocha</code>)</p>
</li>
<li>debug your test inside chromium like a boss!</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md10943"></a>
Usage with TypeScript</h1>
<p>We have recently completed a migration to move the Puppeteer source code from JavaScript to TypeScript and we're currently working on shipping type definitions for TypeScript with Puppeteer's npm package.</p>
<p>Until this work is complete we recommend installing the Puppeteer type definitions from the <a href="https://definitelytyped.org/">DefinitelyTyped</a> repository:</p>
<div class="fragment"><div class="line">npm install --save-dev @types/puppeteer</div>
</div><!-- fragment --><p>The types that you'll see appearing in the Puppeteer source code are based off the great work of those who have contributed to the <code>@types/puppeteer</code> package. We really appreciate the hard work those people put in to providing high quality TypeScript definitions for Puppeteer's users.</p>
<h1><a class="anchor" id="autotoc_md10944"></a>
Contributing to Puppeteer</h1>
<p>Check out <a href="https://github.com/puppeteer/puppeteer/blob/main/CONTRIBUTING.md">contributing guide</a> to get an overview of Puppeteer development.</p>
<h1><a class="anchor" id="autotoc_md10945"></a>
FAQ</h1>
<h4><a class="anchor" id="autotoc_md10946"></a>
Q: Who maintains Puppeteer?</h4>
<p>The Chrome DevTools team maintains the library, but we'd love your help and expertise on the project! See <a href="https://github.com/puppeteer/puppeteer/blob/main/CONTRIBUTING.md">Contributing</a>.</p>
<h4><a class="anchor" id="autotoc_md10947"></a>
Q: What is the status of cross-browser support?</h4>
<p>Official Firefox support is currently experimental. The ongoing collaboration with Mozilla aims to support common end-to-end testing use cases, for which developers expect cross-browser coverage. The Puppeteer team needs input from users to stabilize Firefox support and to bring missing APIs to our attention.</p>
<p>From Puppeteer v2.1.0 onwards you can specify <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#puppeteerlaunchoptions">&lsquo;puppeteer.launch({product: 'firefox&rsquo;})`</a> to run your Puppeteer scripts in Firefox Nightly, without any additional custom patches. While <a href="https://www.npmjs.com/package/puppeteer-firefox">an older experiment</a> required a patched version of Firefox, <a href="https://wiki.mozilla.org/Remote">the current approach</a> works with “stock” Firefox.</p>
<p>We will continue to collaborate with other browser vendors to bring Puppeteer support to browsers such as Safari. This effort includes exploration of a standard for executing cross-browser commands (instead of relying on the non-standard DevTools Protocol used by Chrome).</p>
<h4><a class="anchor" id="autotoc_md10948"></a>
Q: What are Puppeteer’s goals and principles?</h4>
<p>The goals of the project are:</p>
<ul>
<li>Provide a slim, canonical library that highlights the capabilities of the <a href="https://chromedevtools.github.io/devtools-protocol/">DevTools Protocol</a>.</li>
<li>Provide a reference implementation for similar testing libraries. Eventually, these other frameworks could adopt Puppeteer as their foundational layer.</li>
<li>Grow the adoption of headless/automated browser testing.</li>
<li>Help dogfood new DevTools Protocol features...and catch bugs!</li>
<li>Learn more about the pain points of automated browser testing and help fill those gaps.</li>
</ul>
<p>We adapt <a href="https://www.chromium.org/developers/core-principles">Chromium principles</a> to help us drive product decisions:</p><ul>
<li><b>Speed</b>: Puppeteer has almost zero performance overhead over an automated page.</li>
<li><b>Security</b>: Puppeteer operates off-process with respect to Chromium, making it safe to automate potentially malicious pages.</li>
<li><b>Stability</b>: Puppeteer should not be flaky and should not leak memory.</li>
<li><b>Simplicity</b>: Puppeteer provides a high-level API that’s easy to use, understand, and debug.</li>
</ul>
<h4><a class="anchor" id="autotoc_md10949"></a>
Q: Is Puppeteer replacing Selenium/WebDriver?</h4>
<p><b>No</b>. Both projects are valuable for very different reasons:</p><ul>
<li>Selenium/WebDriver focuses on cross-browser automation; its value proposition is a single standard API that works across all major browsers.</li>
<li>Puppeteer focuses on Chromium; its value proposition is richer functionality and higher reliability.</li>
</ul>
<p>That said, you <b>can</b> use Puppeteer to run tests against Chromium, e.g. using the community-driven <a href="https://github.com/smooth-code/jest-puppeteer">jest-puppeteer</a>. While this probably shouldn’t be your only testing solution, it does have a few good points compared to WebDriver:</p>
<ul>
<li>Puppeteer requires zero setup and comes bundled with the Chromium version it works best with, making it <a href="https://github.com/puppeteer/puppeteer/#getting-started">very easy to start with</a>. At the end of the day, it’s better to have a few tests running chromium-only, than no tests at all.</li>
<li>Puppeteer has event-driven architecture, which removes a lot of potential flakiness. There’s no need for evil “sleep(1000)” calls in puppeteer scripts.</li>
<li>Puppeteer runs headless by default, which makes it fast to run. Puppeteer v1.5.0 also exposes browser contexts, making it possible to efficiently parallelize test execution.</li>
<li>Puppeteer shines when it comes to debugging: flip the “headless” bit to false, add “slowMo”, and you’ll see what the browser is doing. You can even open Chrome DevTools to inspect the test environment.</li>
</ul>
<h4><a class="anchor" id="autotoc_md10950"></a>
Q: Why doesn’t Puppeteer v.XXX work with Chromium v.YYY?</h4>
<p>We see Puppeteer as an <b>indivisible entity</b> with Chromium. Each version of Puppeteer bundles a specific version of Chromium – <b>the only</b> version it is guaranteed to work with.</p>
<p>This is not an artificial constraint: A lot of work on Puppeteer is actually taking place in the Chromium repository. Here’s a typical story:</p><ul>
<li>A Puppeteer bug is reported: <a href="https://github.com/puppeteer/puppeteer/issues/2709">https://github.com/puppeteer/puppeteer/issues/2709</a></li>
<li>It turned out this is an issue with the DevTools protocol, so we’re fixing it in Chromium: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/1102154">https://chromium-review.googlesource.com/c/chromium/src/+/1102154</a></li>
<li>Once the upstream fix is landed, we roll updated Chromium into Puppeteer: <a href="https://github.com/puppeteer/puppeteer/pull/2769">https://github.com/puppeteer/puppeteer/pull/2769</a></li>
</ul>
<p>However, oftentimes it is desirable to use Puppeteer with the official Google Chrome rather than Chromium. For this to work, you should install a <code>puppeteer-core</code> version that corresponds to the Chrome version.</p>
<p>For example, in order to drive Chrome 71 with puppeteer-core, use <code>chrome-71</code> npm tag: </p><div class="fragment"><div class="line">npm install puppeteer-core@chrome-71</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md10951"></a>
Q: Which Chromium version does Puppeteer use?</h4>
<p>Look for the <code>chromium</code> entry in <a href="https://github.com/puppeteer/puppeteer/blob/main/src/revisions.ts">revisions.ts</a>. To find the corresponding Chromium commit and version number, search for the revision prefixed by an <code>r</code> in <a href="https://omahaproxy.appspot.com/">OmahaProxy</a>'s "Find Releases" section.</p>
<h4><a class="anchor" id="autotoc_md10952"></a>
Q: Which Firefox version does Puppeteer use?</h4>
<p>Since Firefox support is experimental, Puppeteer downloads the latest <a href="https://wiki.mozilla.org/Nightly">Firefox Nightly</a> when the <code>PUPPETEER_PRODUCT</code> environment variable is set to <code>firefox</code>. That's also why the value of <code>firefox</code> in <a href="https://github.com/puppeteer/puppeteer/blob/main/src/revisions.ts">revisions.ts</a> is <code>latest</code> &ndash; Puppeteer isn't tied to a particular Firefox version.</p>
<p>To fetch Firefox Nightly as part of Puppeteer installation:</p>
<div class="fragment"><div class="line">PUPPETEER_PRODUCT=firefox npm i puppeteer</div>
<div class="line"># or &quot;yarn add puppeteer&quot;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md10953"></a>
Q: What’s considered a “Navigation”?</h4>
<p>From Puppeteer’s standpoint, <b>“navigation” is anything that changes a page’s URL</b>. Aside from regular navigation where the browser hits the network to fetch a new document from the web server, this includes <a href="https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid">anchor navigations</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API">History API</a> usage.</p>
<p>With this definition of “navigation,” <b>Puppeteer works seamlessly with single-page applications.</b></p>
<h4><a class="anchor" id="autotoc_md10954"></a>
Q: What’s the difference between a “trusted" and "untrusted" input event?</h4>
<p>In browsers, input events could be divided into two big groups: trusted vs. untrusted.</p>
<ul>
<li><b>Trusted events</b>: events generated by users interacting with the page, e.g. using a mouse or keyboard.</li>
<li><b>Untrusted event</b>: events generated by Web APIs, e.g. <code>document.createEvent</code> or <code>element.click()</code> methods.</li>
</ul>
<p>Websites can distinguish between these two groups:</p><ul>
<li>using an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted"><code>Event.isTrusted</code></a> event flag</li>
<li>sniffing for accompanying events. For example, every trusted &lsquo;'click&rsquo;<code>event is preceded by</code>'mousedown'<code>and</code>'mouseup'` events.</li>
</ul>
<p>For automation purposes it’s important to generate trusted events. <b>All input events generated with Puppeteer are trusted and fire proper accompanying events.</b> If, for some reason, one needs an untrusted event, it’s always possible to hop into a page context with <code>page.evaluate</code> and generate a fake event:</p>
<div class="fragment"><div class="line">await page.evaluate(() =&gt; {</div>
<div class="line">  document.querySelector(&#39;button[type=submit]&#39;).click();</div>
<div class="line">});</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md10955"></a>
Q: What features does Puppeteer not support?</h4>
<p>You may find that Puppeteer does not behave as expected when controlling pages that incorporate audio and video. (For example, <a href="https://github.com/puppeteer/puppeteer/issues/291">video playback/screenshots is likely to fail</a>.) There are two reasons for this:</p>
<ul>
<li>Puppeteer is bundled with Chromium — not Chrome — and so by default, it inherits all of <a href="https://www.chromium.org/audio-video">Chromium's media-related limitations</a>. This means that Puppeteer does not support licensed formats such as AAC or H.264. (However, it is possible to force Puppeteer to use a separately-installed version Chrome instead of Chromium via the <a href="https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#puppeteerlaunchoptions"><code>executablePath</code> option to <code>puppeteer.launch</code></a>. You should only use this configuration if you need an official release of Chrome that supports these media formats.)</li>
<li>Since Puppeteer (in all configurations) controls a desktop version of Chromium/Chrome, features that are only supported by the mobile version of Chrome are not supported. This means that Puppeteer <a href="https://caniuse.com/#feat=http-live-streaming">does not support HTTP Live Streaming (HLS)</a>.</li>
</ul>
<h4><a class="anchor" id="autotoc_md10956"></a>
Q: I am having trouble installing / running Puppeteer in my test environment. Where should I look for help?</h4>
<p>We have a <a href="https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md">troubleshooting</a> guide for various operating systems that lists the required dependencies.</p>
<h4><a class="anchor" id="autotoc_md10957"></a>
Q: How do I try/test a prerelease version of Puppeteer?</h4>
<p>You can check out this repo or install the latest prerelease from npm:</p>
<div class="fragment"><div class="line">npm i --save puppeteer@next</div>
</div><!-- fragment --><p>Please note that prerelease may be unstable and contain bugs.</p>
<h4><a class="anchor" id="autotoc_md10958"></a>
Q: I have more questions! Where do I ask?</h4>
<p>There are many ways to get help on Puppeteer:</p><ul>
<li><a href="https://github.com/puppeteer/puppeteer/issues">bugtracker</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/puppeteer">Stack Overflow</a></li>
<li><a href="https://join.slack.com/t/puppeteer/shared_invite/enQtMzU4MjIyMDA5NTM4LWI0YTE0MjM0NWQzYmE2MTRmNjM1ZTBkN2MxNmJmNTIwNTJjMmFhOWFjMGExMDViYjk2YjU2ZmYzMmE1NmExYzc">slack channel</a></li>
</ul>
<p>Make sure to search these channels before posting your question. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
