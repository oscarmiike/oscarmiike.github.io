\doxysection{Ainslie\+API.\+Controllers.\+Logs\+Controller Class Reference}
\hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller}{}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller}\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}


Controller responsible for managing log-\/related actions, including retrieval and manipulation of log entries.  




Inheritance diagram for Ainslie\+API.\+Controllers.\+Logs\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Ainslie\+API.\+Controllers.\+Logs\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_afb713b2cb90756230e4704cffd8d613f}{Logs\+Controller}} (IOptions$<$ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} $>$ app\+Settings, \mbox{\hyperlink{class_ainslie_a_p_i_1_1_authentication_1_1_jwt_utils}{Jwt\+Utils}} jwt\+Utils, \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} log\+Service, \mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context}{Local\+Context}} local\+Context, \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_internal_api_service}{Internal\+Api\+Service}} iapi\+Service)
\begin{DoxyCompactList}\small\item\em Initialises a new instance of the Logs\+Controller class, injecting dependencies for application settings, JWT utilities, logging, database context, and internal API services. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ef80287ee6fcd427b335c7f37e366d8}{Get\+Logs}} (\mbox{[}From\+Body\mbox{]} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_internal_api_1_1_log_request}{Log\+Request}} log\+Request)
\begin{DoxyCompactList}\small\item\em Retrieves logs based on specified criteria, including time range and filters. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a97c028c3db2a6e6190127d5a1a67cda3}{Get\+Log\+Sources}} ()
\begin{DoxyCompactList}\small\item\em Fetches distinct log sources from the database. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a950cc099b42028053588effab1e1c578}{Get\+Log\+Types}} ()
\begin{DoxyCompactList}\small\item\em Retrieves distinct log types from the database. \end{DoxyCompactList}\item 
IAction\+Result \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_aea8072dbf59418b035df6b786ecae9c0}{Trim\+Logs}} ()
\begin{DoxyCompactList}\small\item\em Trims logs based on predefined criteria to manage database size. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_ab4390ef81597bce8fe0c699dd4ca00b2}{\+\_\+app\+Settings}}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_authentication_1_1_jwt_utils}{Jwt\+Utils}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ff4f2e29cc11437d9ada1b879cb37ff}{\+\_\+jwt\+Utils}}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656}{\+\_\+log\+Service}}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context}{Local\+Context}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}{\+\_\+context}}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_internal_api_service}{Internal\+Api\+Service}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a9b78eef175f533c6050f842b84a78dfe}{\+\_\+iapi\+Service}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Controller responsible for managing log-\/related actions, including retrieval and manipulation of log entries. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_afb713b2cb90756230e4704cffd8d613f}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_afb713b2cb90756230e4704cffd8d613f} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!LogsController@{LogsController}}
\index{LogsController@{LogsController}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{LogsController()}{LogsController()}}
{\footnotesize\ttfamily Ainslie\+API.\+Controllers.\+Logs\+Controller.\+Logs\+Controller (\begin{DoxyParamCaption}\item[{IOptions$<$ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} $>$}]{app\+Settings,  }\item[{\mbox{\hyperlink{class_ainslie_a_p_i_1_1_authentication_1_1_jwt_utils}{Jwt\+Utils}}}]{jwt\+Utils,  }\item[{\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}}}]{log\+Service,  }\item[{\mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context}{Local\+Context}}}]{local\+Context,  }\item[{\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_internal_api_service}{Internal\+Api\+Service}}}]{iapi\+Service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initialises a new instance of the Logs\+Controller class, injecting dependencies for application settings, JWT utilities, logging, database context, and internal API services. 


\begin{DoxyParams}{Parameters}
{\em app\+Settings} & The application settings, including configuration values.\\
\hline
{\em jwt\+Utils} & Utilities for JWT token operations, such as validation and generation.\\
\hline
{\em log\+Service} & Service for creating and managing log entries.\\
\hline
{\em local\+Context} & The database context for accessing application data.\\
\hline
{\em iapi\+Service} & Service for internal API operations, facilitating interaction with internal systems and services.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00041\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_ab4390ef81597bce8fe0c699dd4ca00b2}{\_appSettings}}\ =\ appSettings.Value;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ff4f2e29cc11437d9ada1b879cb37ff}{\_jwtUtils}}\ =\ jwtUtils;}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656}{\_logService}}\ =\ logService;\ \ \ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}{\_context}}\ =\ localContext;}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a9b78eef175f533c6050f842b84a78dfe}{\_iapiService}}\ =\ iapiService;}
\DoxyCodeLine{00047\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ef80287ee6fcd427b335c7f37e366d8}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ef80287ee6fcd427b335c7f37e366d8} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!GetLogs@{GetLogs}}
\index{GetLogs@{GetLogs}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{GetLogs()}{GetLogs()}}
{\footnotesize\ttfamily IAction\+Result Ainslie\+API.\+Controllers.\+Logs\+Controller.\+Get\+Logs (\begin{DoxyParamCaption}\item[{\mbox{[}\+From\+Body\mbox{]} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_internal_api_1_1_log_request}{Log\+Request}}}]{log\+Request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves logs based on specified criteria, including time range and filters. 


\begin{DoxyParams}{Parameters}
{\em log\+Request} & Details of the log request, such as time range, type, source, and search string.\\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
An IAction\+Result containing logs matching the criteria.
\end{DoxyReturn}


This method enables both initial and follow-\/up log retrieval, featuring\+: 
\begin{DoxyItemize}
\item Time conversions from Unix/\+UTC to local, ensuring accurate time frame queries. 
\item Filter application by log type, source, and search string for targeted searches. 
\item Pagination via \textquotesingle{}initial\textquotesingle{} flag and \textquotesingle{}start\+Hour\textquotesingle{}, adjusting queries for specific log segments. 
\item Descending order sorting by creation date for recent logs prioritisation. 
\item Adaptation to request \textquotesingle{}max\+Logs\textquotesingle{} limit for controlled data retrieval. 
\end{DoxyItemize}
\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ DateTime\ fromDateTimeUTC\ =\ DateTime.MinValue;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (logRequest.fromUnixUTCMilli\ >\ 0)}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ fromDateTimeUTC\ =\ DateTimeOffset.FromUnixTimeMilliseconds(logRequest.fromUnixUTCMilli).DateTime;}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ DateTime\ fromDateTimeLocal\ =\ fromDateTimeUTC.ToLocalTime();}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ var\ dateRangeStart\ =\ logRequest.dateRangeStartUTC.ToLocalTime();}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (logRequest.startHour\ >\ -\/1)}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ dateRangeStart\ =\ dateRangeStart.AddHours(logRequest.startHour);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ var\ dateRangeEnd\ =\ logRequest.dateRangeEndUTC.ToLocalTime();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ var\ logsQuery\ =\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}{\_context}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context_a07ac1cd14ee90d7465dd18a3669e0fa4}{LogEntries}}.AsNoTracking()}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ le.Created\ >=\ dateRangeStart\ \&\&\ le.Created\ <=\ dateRangeEnd)}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ .AsEnumerable();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (logRequest.initial)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ logsQuery\ =\ logsQuery}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ logRequest.logType\ ==\ \textcolor{keyword}{null}\ ||\ logRequest.logType.All(\textcolor{keywordtype}{string}.IsNullOrEmpty)\ ||\ logRequest.logType.Any(lt\ =>\ le.Type.ToLower()\ ==\ lt.ToLower()))}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ logRequest.logSource\ ==\ \textcolor{keyword}{null}\ ||\ logRequest.logSource.All(\textcolor{keywordtype}{string}.IsNullOrEmpty)\ ||\ logRequest.logSource.Any(ls\ =>\ le.Source.ToLower()\ ==\ ls.ToLower()))}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ \textcolor{keywordtype}{string}.IsNullOrEmpty(logRequest.searchString)\ ||\ le.Data.ToLower().Contains(logRequest.searchString.ToLower()));}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (logRequest.startHour\ >\ -\/1)}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ specifying\ a\ start\ hour,\ take\ logs\ from\ the\ start\ hour,\ then\ order\ by\ descending}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logsQuery\ =\ logsQuery.Take(logRequest.maxLogs).OrderByDescending(le\ =>\ le.Created).ToList();}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ not\ specifying\ start\ hour,\ order\ by\ descending\ and\ then\ take\ latest}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logsQuery\ =\ logsQuery.OrderByDescending(le\ =>\ le.Created).Take(logRequest.maxLogs).ToList();}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ logsQuery\ =\ logsQuery}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ le.Created\ >\ fromDateTimeLocal)}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ logRequest.logType\ ==\ \textcolor{keyword}{null}\ ||\ logRequest.logType.All(\textcolor{keywordtype}{string}.IsNullOrEmpty)\ ||\ logRequest.logType.Any(lt\ =>\ le.Type.ToLower()\ ==\ lt.ToLower()))}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ logRequest.logSource\ ==\ \textcolor{keyword}{null}\ ||\ logRequest.logSource.All(\textcolor{keywordtype}{string}.IsNullOrEmpty)\ ||\ logRequest.logSource.Any(ls\ =>\ le.Source.ToLower()\ ==\ ls.ToLower()))}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .Where(le\ =>\ \textcolor{keywordtype}{string}.IsNullOrEmpty(logRequest.searchString)\ ||\ le.Data.ToLower().Contains(logRequest.searchString.ToLower()))}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .OrderByDescending(le\ =>\ le.Created);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!logRequest.initial\ \&\&\ logsQuery.Count()\ <\ 1)}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok();}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(logsQuery);}
\DoxyCodeLine{00113\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a97c028c3db2a6e6190127d5a1a67cda3}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a97c028c3db2a6e6190127d5a1a67cda3} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!GetLogSources@{GetLogSources}}
\index{GetLogSources@{GetLogSources}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{GetLogSources()}{GetLogSources()}}
{\footnotesize\ttfamily IAction\+Result Ainslie\+API.\+Controllers.\+Logs\+Controller.\+Get\+Log\+Sources (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Fetches distinct log sources from the database. 

\begin{DoxyReturn}{Returns}
An IAction\+Result containing unique log sources.
\end{DoxyReturn}


This method queries the Log\+Entries table for distinct sources, facilitating filter creation on the client side. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00126\ \ \ \ \ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ var\ logSources\ =\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}{\_context}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context_a07ac1cd14ee90d7465dd18a3669e0fa4}{LogEntries}}.AsNoTracking().Select(le\ =>\ le.Source).Distinct();}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(logSources);}
\DoxyCodeLine{00129\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a950cc099b42028053588effab1e1c578}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a950cc099b42028053588effab1e1c578} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!GetLogTypes@{GetLogTypes}}
\index{GetLogTypes@{GetLogTypes}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{GetLogTypes()}{GetLogTypes()}}
{\footnotesize\ttfamily IAction\+Result Ainslie\+API.\+Controllers.\+Logs\+Controller.\+Get\+Log\+Types (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieves distinct log types from the database. 

\begin{DoxyReturn}{Returns}
An IAction\+Result containing unique log types.
\end{DoxyReturn}


Similar to Get\+Log\+Sources, this method aids in generating client-\/side filters by providing distinct log types. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00142\ \ \ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ var\ logTypes\ =\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}{\_context}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context_a07ac1cd14ee90d7465dd18a3669e0fa4}{LogEntries}}.AsNoTracking().Select(le\ =>\ le.Type).Distinct();}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(logTypes);}
\DoxyCodeLine{00145\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_aea8072dbf59418b035df6b786ecae9c0}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_aea8072dbf59418b035df6b786ecae9c0} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!TrimLogs@{TrimLogs}}
\index{TrimLogs@{TrimLogs}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{TrimLogs()}{TrimLogs()}}
{\footnotesize\ttfamily IAction\+Result Ainslie\+API.\+Controllers.\+Logs\+Controller.\+Trim\+Logs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Trims logs based on predefined criteria to manage database size. 

\begin{DoxyReturn}{Returns}
An IAction\+Result indicating the success or failure of the operation.
\end{DoxyReturn}


Initiates a log trimming operation to remove older logs. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00158\ \ \ \ \ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656}{\_logService}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service_a917b9af360c0c6521ce36f4acbc72023}{LogInformation}}(LogService.LogSources.LogsController,\ \textcolor{stringliteral}{"{}log\ trim\ initiated"{}});}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ dynamic\ result\ =\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656}{\_logService}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service_aea52f6628afd6bcb55105bd0a2f1d8da}{TrimLogs}}();}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\textcolor{keywordtype}{bool})result.error)}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(result);}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(result);}
\DoxyCodeLine{00166\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_aea8072dbf59418b035df6b786ecae9c0_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_ab4390ef81597bce8fe0c699dd4ca00b2}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_ab4390ef81597bce8fe0c699dd4ca00b2} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!\_appSettings@{\_appSettings}}
\index{\_appSettings@{\_appSettings}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{\_appSettings}{\_appSettings}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} Ainslie\+API.\+Controllers.\+Logs\+Controller.\+\_\+app\+Settings\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a8884cc5e94cd4c049cda42e509ff1eac} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!\_context@{\_context}}
\index{\_context@{\_context}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{\_context}{\_context}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_data_1_1_contexts_1_1_local_context}{Local\+Context}} Ainslie\+API.\+Controllers.\+Logs\+Controller.\+\_\+context\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a9b78eef175f533c6050f842b84a78dfe}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a9b78eef175f533c6050f842b84a78dfe} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!\_iapiService@{\_iapiService}}
\index{\_iapiService@{\_iapiService}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{\_iapiService}{\_iapiService}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_internal_api_service}{Internal\+Api\+Service}} Ainslie\+API.\+Controllers.\+Logs\+Controller.\+\_\+iapi\+Service\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ff4f2e29cc11437d9ada1b879cb37ff}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a3ff4f2e29cc11437d9ada1b879cb37ff} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!\_jwtUtils@{\_jwtUtils}}
\index{\_jwtUtils@{\_jwtUtils}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{\_jwtUtils}{\_jwtUtils}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_authentication_1_1_jwt_utils}{Jwt\+Utils}} Ainslie\+API.\+Controllers.\+Logs\+Controller.\+\_\+jwt\+Utils\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656}\label{class_ainslie_a_p_i_1_1_controllers_1_1_logs_controller_a98fabaeb72c680148f8d5f9e4c463656} 
\index{AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}!\_logService@{\_logService}}
\index{\_logService@{\_logService}!AinslieAPI.Controllers.LogsController@{AinslieAPI.Controllers.LogsController}}
\doxysubsubsection{\texorpdfstring{\_logService}{\_logService}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} Ainslie\+API.\+Controllers.\+Logs\+Controller.\+\_\+log\+Service\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+STRIDER/source/repos/\+Ainslie\+API/\+Controllers/\mbox{\hyperlink{_logs_controller_8cs}{Logs\+Controller.\+cs}}\end{DoxyCompactItemize}
