\doxysection{Ainslie\+API.\+Services.\+Aw\+Api\+Service Class Reference}
\hypertarget{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service}{}\label{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service}\index{AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}}


Provides services for interacting with the AW API, including retrieving GSS pricing information.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a799cac6d2cd0c1e7a21f8f892740b343}{Aw\+Api\+Service}} (IOptions$<$ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} $>$ app\+Settings, \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} log\+Service)
\begin{DoxyCompactList}\small\item\em Initialises a new instance of the Aw\+Api\+Service with application settings and logging service. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data}{GSSPrice\+Data}}? \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a94685f746f003ef92fe3a7f4ef545efe}{Get\+Gss\+Pricing}} (string user\+Name)
\begin{DoxyCompactList}\small\item\em Fetches GSS pricing data for a specified user from the AW API. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\+\_\+app\+Settings}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\item 
\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}{\+\_\+logger}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provides services for interacting with the AW API, including retrieving GSS pricing information. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a799cac6d2cd0c1e7a21f8f892740b343}\label{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a799cac6d2cd0c1e7a21f8f892740b343} 
\index{AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}!AwApiService@{AwApiService}}
\index{AwApiService@{AwApiService}!AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}}
\doxysubsubsection{\texorpdfstring{AwApiService()}{AwApiService()}}
{\footnotesize\ttfamily Ainslie\+API.\+Services.\+Aw\+Api\+Service.\+Aw\+Api\+Service (\begin{DoxyParamCaption}\item[{IOptions$<$ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} $>$}]{app\+Settings,  }\item[{\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}}}]{log\+Service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initialises a new instance of the Aw\+Api\+Service with application settings and logging service. 


\begin{DoxyParams}{Parameters}
{\em app\+Settings} & Application settings for configuration.\\
\hline
{\em log\+Service} & Service for logging errors and information.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\_appSettings}}\ =\ appSettings.Value;}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}{\_logger}}\ =\ logService;}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a94685f746f003ef92fe3a7f4ef545efe}\label{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a94685f746f003ef92fe3a7f4ef545efe} 
\index{AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}!GetGssPricing@{GetGssPricing}}
\index{GetGssPricing@{GetGssPricing}!AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}}
\doxysubsubsection{\texorpdfstring{GetGssPricing()}{GetGssPricing()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data}{GSSPrice\+Data}}? Ainslie\+API.\+Services.\+Aw\+Api\+Service.\+Get\+Gss\+Pricing (\begin{DoxyParamCaption}\item[{string}]{user\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Fetches GSS pricing data for a specified user from the AW API. 


\begin{DoxyParams}{Parameters}
{\em user\+Name} & The username for which to retrieve GSS pricing data.\\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
GSSPrice\+Data containing the pricing information, or an empty GSSPrice\+Data if the fetch fails.
\end{DoxyReturn}


Makes a GET request to the AW API using basic authentication. Logs errors if the request fails or if parsing the response encounters issues. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ var\ gssPricing\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data}{GSSPriceData}}();}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{string}.IsNullOrEmpty(userName))}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gssPricing;}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ var\ client\ =\ \textcolor{keyword}{new}\ RestClient(\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\_appSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings_a40101ce107bba2b095e4196f0d1db3e9}{AwApiSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings_a4c41784f49addb6d2b04b7e4d2418ca9}{BaseUrl}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ var\ request\ =\ \textcolor{keyword}{new}\ RestRequest(\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\_appSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings_a40101ce107bba2b095e4196f0d1db3e9}{AwApiSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings_a93dcc007ec0ab3b1175e0c6f0bb94fce}{Endpoint\_SpotAUD}},\ RestSharp.Method.Get);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ request.AddQueryParameter(\textcolor{stringliteral}{"{}requestasuser"{}},\ userName);}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ request.Authenticator\ =\ \textcolor{keyword}{new}\ HttpBasicAuthenticator(\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\_appSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings_a40101ce107bba2b095e4196f0d1db3e9}{AwApiSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings_a1d84dd087799f0c15afb23eb60dde18b}{ApiUsername}},\ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}{\_appSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings_a40101ce107bba2b095e4196f0d1db3e9}{AwApiSettings}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_aw_api_settings_a6aa5ce403a3f846aa40764b7ec57cb99}{ApiPassword}});}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ RestResponse\ response;}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ response\ =\ client.Execute(request);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (response\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (response.IsSuccessful)}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gssPricing\ =\ JsonConvert.DeserializeObject<\mbox{\hyperlink{class_ainslie_a_p_i_1_1_d_t_o_1_1_g_s_s_1_1_g_s_s_price_data}{GSSPriceData}}>(response.Content\ ??\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}{\_logger}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service_a9bf79a218e0884ac9cabd3ac87b81321}{LogError}}(LogService.LogSources.AwApiService,}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$\textcolor{stringliteral}{"{}error\ getting\ gss\ pricing\ from\ aw\ api"{}},}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$\textcolor{stringliteral}{"{}StatusCode:\ \{(int)response.StatusCode\}"{}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$\textcolor{stringliteral}{"{}StatusDescription:\ \{response.StatusDescription\}"{}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$\textcolor{stringliteral}{"{}Content:\ \{response.Content\}"{}});}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}{\_logger}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service_a9bf79a218e0884ac9cabd3ac87b81321}{LogError}}(LogService.LogSources.AwApiService,}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$\textcolor{stringliteral}{"{}error\ getting\ gss\ pricing\ from\ aw\ api,\ response\ object\ is\ null"{}});}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (Exception\ ex)}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}{\_logger}}.\mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service_a83bbf569dea7ea5a40e02fca200aad8c}{LogException}}(LogService.LogSources.AwApiService,\ \$\textcolor{stringliteral}{"{}Exception\ getting\ green\ id\ customer\ from\ internal\ api"{}},\ ex.ToString());}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gssPricing;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a94685f746f003ef92fe3a7f4ef545efe_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_a94685f746f003ef92fe3a7f4ef545efe_icgraph}
\end{center}
\end{figure}


\doxysubsection{Property Documentation}
\Hypertarget{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2}\label{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad91a362339e68963dbd5b3f9673635d2} 
\index{AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}!\_appSettings@{\_appSettings}}
\index{\_appSettings@{\_appSettings}!AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}}
\doxysubsubsection{\texorpdfstring{\_appSettings}{\_appSettings}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_helpers_1_1_app_settings}{App\+Settings}} Ainslie\+API.\+Services.\+Aw\+Api\+Service.\+\_\+app\+Settings\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}, {\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00021\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{set};\ \}}

\end{DoxyCode}
\Hypertarget{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1}\label{class_ainslie_a_p_i_1_1_services_1_1_aw_api_service_ad0eeb922047be4d7e8a9e78f43c4e1e1} 
\index{AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}!\_logger@{\_logger}}
\index{\_logger@{\_logger}!AinslieAPI.Services.AwApiService@{AinslieAPI.Services.AwApiService}}
\doxysubsubsection{\texorpdfstring{\_logger}{\_logger}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_ainslie_a_p_i_1_1_services_1_1_log_service}{Log\+Service}} Ainslie\+API.\+Services.\+Aw\+Api\+Service.\+\_\+logger\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}, {\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00022\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{set};\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+STRIDER/source/repos/\+Ainslie\+API/\+Services/\mbox{\hyperlink{_aw_api_service_8cs}{Aw\+Api\+Service.\+cs}}\end{DoxyCompactItemize}
