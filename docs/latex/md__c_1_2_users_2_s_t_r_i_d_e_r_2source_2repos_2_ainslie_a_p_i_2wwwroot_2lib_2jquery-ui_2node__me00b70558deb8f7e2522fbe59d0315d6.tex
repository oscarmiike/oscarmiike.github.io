\chapter{traverse}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6}{}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6}\index{traverse@{traverse}}
Traverse and transform objects by visiting every node on a recursive walk.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4971}{}\doxysection{\texorpdfstring{examples}{examples}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4971}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4972}{}\doxysubsection{\texorpdfstring{transform negative numbers in-\/place}{transform negative numbers in-\/place}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4972}
negative.\+js


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ traverse\ =\ require('traverse');}
\DoxyCodeLine{var\ obj\ =\ [\ 5,\ 6,\ -\/3,\ [\ 7,\ 8,\ -\/2,\ 1\ ],\ \{\ f\ :\ 10,\ g\ :\ -\/13\ \}\ ];}
\DoxyCodeLine{}
\DoxyCodeLine{traverse(obj).forEach(function\ (x)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (x\ <\ 0)\ this.update(x\ +\ 128);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{console.dir(obj);}

\end{DoxyCode}


Output\+: \begin{DoxyVerb}[ 5, 6, 125, [ 7, 8, 126, 1 ], { f: 10, g: 115 } ]
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4973}{}\doxysubsection{\texorpdfstring{collect leaf nodes}{collect leaf nodes}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4973}
leaves.\+js


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ traverse\ =\ require('traverse');}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ a\ :\ [1,2,3],}
\DoxyCodeLine{\ \ \ \ b\ :\ 4,}
\DoxyCodeLine{\ \ \ \ c\ :\ [5,6],}
\DoxyCodeLine{\ \ \ \ d\ :\ \{\ e\ :\ [7,8],\ f\ :\ 9\ \},}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{var\ leaves\ =\ traverse(obj).reduce(function\ (acc,\ x)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (this.isLeaf)\ acc.push(x);}
\DoxyCodeLine{\ \ \ \ return\ acc;}
\DoxyCodeLine{\},\ []);}
\DoxyCodeLine{}
\DoxyCodeLine{console.dir(leaves);}

\end{DoxyCode}


Output\+: \begin{DoxyVerb}[ 1, 2, 3, 4, 5, 6, 7, 8, 9 ]
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4974}{}\doxysection{\texorpdfstring{context}{context}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4974}
Each method that takes a callback has a context (its {\ttfamily this} object) with these attributes\+:\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4975}{}\doxysubsection{\texorpdfstring{this.\+node}{this.\+node}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4975}
The present node on the recursive walk\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4976}{}\doxysubsection{\texorpdfstring{this.\+path}{this.\+path}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4976}
An array of string keys from the root to the present node\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4977}{}\doxysubsection{\texorpdfstring{this.\+parent}{this.\+parent}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4977}
The context of the node\textquotesingle{}s parent. This is {\ttfamily undefined} for the root node.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4978}{}\doxysubsection{\texorpdfstring{this.\+key}{this.\+key}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4978}
The name of the key of the present node in its parent. This is {\ttfamily undefined} for the root node.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4979}{}\doxysubsection{\texorpdfstring{this.\+is\+Root, this.\+not\+Root}{this.\+is\+Root, this.\+not\+Root}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4979}
Whether the present node is the root node\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4980}{}\doxysubsection{\texorpdfstring{this.\+is\+Leaf, this.\+not\+Leaf}{this.\+is\+Leaf, this.\+not\+Leaf}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4980}
Whether or not the present node is a leaf node (has no children)\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4981}{}\doxysubsection{\texorpdfstring{this.\+level}{this.\+level}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4981}
Depth of the node within the traversal\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4982}{}\doxysubsection{\texorpdfstring{this.\+circular}{this.\+circular}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4982}
If the node equals one of its parents, the {\ttfamily circular} attribute is set to the context of that parent and the traversal progresses no deeper.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4983}{}\doxysubsection{\texorpdfstring{this.\+update(value)}{this.\+update(value)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4983}
Set a new value for the present node.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4984}{}\doxysubsection{\texorpdfstring{this.\+remove()}{this.\+remove()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4984}
Remove the current element from the output. If the node is in an Array it will be spliced off. Otherwise it will be deleted from its parent.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4985}{}\doxysubsection{\texorpdfstring{this.\+delete()}{this.\+delete()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4985}
Delete the current element from its parent in the output. Calls {\ttfamily delete} even on Arrays.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4986}{}\doxysubsection{\texorpdfstring{this.\+before(fn)}{this.\+before(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4986}
Call this function before any of the children are traversed.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4987}{}\doxysubsection{\texorpdfstring{this.\+after(fn)}{this.\+after(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4987}
Call this function after any of the children are traversed.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4988}{}\doxysubsection{\texorpdfstring{this.\+pre(fn)}{this.\+pre(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4988}
Call this function before each of the children are traversed.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4989}{}\doxysubsection{\texorpdfstring{this.\+post(fn)}{this.\+post(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4989}
Call this function after each of the children are traversed.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4990}{}\doxysection{\texorpdfstring{methods}{methods}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4990}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4991}{}\doxysubsection{\texorpdfstring{.map(fn)}{.map(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4991}
Execute {\ttfamily fn} for each node in the object and return a new object with the results of the walk. To update nodes in the result use {\ttfamily this.\+update(value)}.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4992}{}\doxysubsection{\texorpdfstring{.for\+Each(fn)}{.for\+Each(fn)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4992}
Execute {\ttfamily fn} for each node in the object but unlike {\ttfamily .map()}, when {\ttfamily this.\+update()} is called it updates the object in-\/place.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4993}{}\doxysubsection{\texorpdfstring{.reduce(fn, acc)}{.reduce(fn, acc)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4993}
For each node in the object, perform a \href{http://en.wikipedia.org/wiki/Fold_(higher-order_function)}{\texttt{ left-\/fold}} with the return value of {\ttfamily fn(acc, node)}.

If {\ttfamily acc} isn\textquotesingle{}t specified, {\ttfamily acc} is set to the root object for the first step and the root element is skipped.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4994}{}\doxysubsection{\texorpdfstring{.deep\+Equal(obj)}{.deep\+Equal(obj)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4994}
Returns a boolean, whether the instance value is equal to the supplied object along a deep traversal using some opinionated choices.

Some notes\+:


\begin{DoxyItemize}
\item Reg\+Exps are equal if their .to\+String()s match, but not functions since functions can close over different variables.
\item Date instances are compared using {\ttfamily .get\+Time()} just like {\ttfamily assert.\+deep\+Equal()}.
\item Circular references must refer to the same paths within the data structure for both objects. For instance, in this snippet\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ a\ =\ [1];}
\DoxyCodeLine{a.push(a);\ //\ a\ =\ [\ 1,\ *a\ ]}
\DoxyCodeLine{}
\DoxyCodeLine{var\ b\ =\ [1];}
\DoxyCodeLine{b.push(a);\ //\ b\ =\ [\ 1,\ [\ 1,\ *a\ ]\ ]}

\end{DoxyCode}


{\ttfamily a} is not the same as {\ttfamily b} since even though the expansion is the same, the circular references in each refer to different paths into the data structure.

However, in\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ c\ =\ [1];}
\DoxyCodeLine{c.push(c);\ //\ c\ =\ [\ 1,\ *c\ ];}

\end{DoxyCode}


{\ttfamily c} is equal to {\ttfamily a} in a {\ttfamily deep\+Equal()} because they have the same terminal node structure.


\begin{DoxyItemize}
\item Arguments objects are not arrays and neither are they the same as regular objects.
\item Instances created with {\ttfamily new} of String, Boolean, and Number types are never equal to the native versions.
\end{DoxyItemize}\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4995}{}\doxysubsection{\texorpdfstring{.paths()}{.paths()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4995}
Return an {\ttfamily Array} of every possible non-\/cyclic path in the object. Paths are {\ttfamily Array}s of string keys.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4996}{}\doxysubsection{\texorpdfstring{.nodes()}{.nodes()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4996}
Return an {\ttfamily Array} of every node in the object.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4997}{}\doxysubsection{\texorpdfstring{.clone()}{.clone()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4997}
Create a deep clone of the object.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4998}{}\doxysection{\texorpdfstring{installation}{installation}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4998}
Using npm\+: npm install traverse

Or check out the repository and link your development copy\+: git clone \href{http://github.com/substack/js-traverse.git}{\texttt{ http\+://github.\+com/substack/js-\/traverse.\+git}} cd js-\/traverse npm link .

You can test traverse with "{}expresso"{}\+:\href{http://github.com/visionmedia/expresso}{\texttt{ http\+://github.\+com/visionmedia/expresso}} ({\ttfamily npm install expresso})\+: js-\/traverse \$ expresso

100\% wahoo, your stuff is not broken!\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4999}{}\doxysection{\texorpdfstring{hash transforms}{hash transforms}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_ainslie_a_p_i_2wwwroot_2lib_2jquery-ui_2node__me00b70558deb8f7e2522fbe59d0315d6_autotoc_md4999}
This library formerly had a hash transformation component. It has been \href{https://github.com/substack/node-hashish}{\texttt{ moved to the hashish package}}. 