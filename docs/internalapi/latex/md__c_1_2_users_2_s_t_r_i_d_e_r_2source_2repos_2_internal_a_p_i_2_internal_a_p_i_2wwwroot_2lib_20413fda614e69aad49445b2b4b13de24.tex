\chapter{end-\/of-\/stream}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24}{}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24}\index{end-\/of-\/stream@{end-\/of-\/stream}}
\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2225}%
\Hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2225}%
 A node module that calls a callback when a readable/writable/duplex stream has completed or failed. \begin{DoxyVerb}npm install end-of-stream
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2226}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2226}
Simply pass a stream and a callback to the {\ttfamily eos}. Both legacy streams, streams2 and stream3 are supported.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ eos\ =\ require('end-\/of-\/stream');}
\DoxyCodeLine{}
\DoxyCodeLine{eos(readableStream,\ function(err)\ \{}
\DoxyCodeLine{\ \ //\ this\ will\ be\ set\ to\ the\ stream\ instance}
\DoxyCodeLine{\ \ \ \ if\ (err)\ return\ console.log('stream\ had\ an\ error\ or\ closed\ early');}
\DoxyCodeLine{\ \ \ \ console.log('stream\ has\ ended',\ this\ ===\ readableStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(writableStream,\ function(err)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (err)\ return\ console.log('stream\ had\ an\ error\ or\ closed\ early');}
\DoxyCodeLine{\ \ \ \ console.log('stream\ has\ finished',\ this\ ===\ writableStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream,\ function(err)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (err)\ return\ console.log('stream\ had\ an\ error\ or\ closed\ early');}
\DoxyCodeLine{\ \ \ \ console.log('stream\ has\ ended\ and\ finished',\ this\ ===\ duplexStream);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream,\ \{readable:false\},\ function(err)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (err)\ return\ console.log('stream\ had\ an\ error\ or\ closed\ early');}
\DoxyCodeLine{\ \ \ \ console.log('stream\ has\ finished\ but\ might\ still\ be\ readable');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(duplexStream,\ \{writable:false\},\ function(err)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (err)\ return\ console.log('stream\ had\ an\ error\ or\ closed\ early');}
\DoxyCodeLine{\ \ \ \ console.log('stream\ has\ ended\ but\ might\ still\ be\ writable');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{eos(readableStream,\ \{error:false\},\ function(err)\ \{}
\DoxyCodeLine{\ \ \ \ //\ do\ not\ treat\ emit('error',\ err)\ as\ a\ end-\/of-\/stream}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2227}{}\doxysection{\texorpdfstring{License}{License}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2227}
MIT\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2228}{}\doxysection{\texorpdfstring{Related}{Related}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20413fda614e69aad49445b2b4b13de24_autotoc_md2228}
{\ttfamily end-\/of-\/stream} is part of the \href{https://github.com/maxogden/mississippi}{\texttt{ mississippi stream utility collection}} which includes more useful stream modules similar to this one. 