\chapter{wrappy}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e}{}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e}\index{wrappy@{wrappy}}
\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e_autotoc_md12261}%
\Hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e_autotoc_md12261}%
 Callback wrapping utility\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e_autotoc_md12262}{}\doxysection{\texorpdfstring{USAGE}{USAGE}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_20b86839ab86b7c74a88d424fd977156e_autotoc_md12262}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ wrappy\ =\ require("{}wrappy"{})}
\DoxyCodeLine{}
\DoxyCodeLine{//\ var\ wrapper\ =\ wrappy(wrapperFunction)}
\DoxyCodeLine{}
\DoxyCodeLine{//\ make\ sure\ a\ cb\ is\ called\ only\ once}
\DoxyCodeLine{//\ See\ also:\ http://npm.im/once\ for\ this\ specific\ use\ case}
\DoxyCodeLine{var\ once\ =\ wrappy(function\ (cb)\ \{}
\DoxyCodeLine{\ \ var\ called\ =\ false}
\DoxyCodeLine{\ \ return\ function\ ()\ \{}
\DoxyCodeLine{\ \ \ \ if\ (called)\ return}
\DoxyCodeLine{\ \ \ \ called\ =\ true}
\DoxyCodeLine{\ \ \ \ return\ cb.apply(this,\ arguments)}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{function\ printBoo\ ()\ \{}
\DoxyCodeLine{\ \ console.log('boo')}
\DoxyCodeLine{\}}
\DoxyCodeLine{//\ has\ some\ rando\ property}
\DoxyCodeLine{printBoo.iAmBooPrinter\ =\ true}
\DoxyCodeLine{}
\DoxyCodeLine{var\ onlyPrintOnce\ =\ once(printBoo)}
\DoxyCodeLine{}
\DoxyCodeLine{onlyPrintOnce()\ //\ prints\ 'boo'}
\DoxyCodeLine{onlyPrintOnce()\ //\ does\ nothing}
\DoxyCodeLine{}
\DoxyCodeLine{//\ random\ property\ is\ retained!}
\DoxyCodeLine{assert.equal(onlyPrintOnce.iAmBooPrinter,\ true)}

\end{DoxyCode}
 