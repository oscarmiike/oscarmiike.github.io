\chapter{mime}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3}{}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3}\index{mime@{mime}}
\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3341}%
\Hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3341}%
 Comprehensive MIME type mapping API based on mime-\/db module.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3342}{}\doxysection{\texorpdfstring{Install}{Install}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3342}
Install with \href{http://github.com/isaacs/npm}{\texttt{ npm}}\+: \begin{DoxyVerb}npm install mime
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3343}{}\doxysection{\texorpdfstring{Contributing / Testing}{Contributing / Testing}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3343}
\begin{DoxyVerb}npm run test
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3344}{}\doxysection{\texorpdfstring{Command Line}{Command Line}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3344}
\begin{DoxyVerb}mime [path_string]
\end{DoxyVerb}
 E.\+g. \begin{DoxyVerb}> mime scripts/jquery.js
application/javascript
\end{DoxyVerb}
 \hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3345}{}\doxysection{\texorpdfstring{API -\/ Queries}{API -\/ Queries}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3345}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3346}{}\doxysubsection{\texorpdfstring{mime.\+lookup(path)}{mime.\+lookup(path)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3346}
Get the mime type associated with a file, if no mime type is found {\ttfamily application/octet-\/stream} is returned. Performs a case-\/insensitive lookup using the extension in {\ttfamily path} (the substring after the last \textquotesingle{}/\textquotesingle{} or \textquotesingle{}.\textquotesingle{}). E.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ mime\ =\ require('mime');}
\DoxyCodeLine{}
\DoxyCodeLine{mime.lookup('/path/to/file.txt');\ \ \ \ \ \ \ \ \ //\ =>\ 'text/plain'}
\DoxyCodeLine{mime.lookup('file.txt');\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ =>\ 'text/plain'}
\DoxyCodeLine{mime.lookup('.TXT');\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ =>\ 'text/plain'}
\DoxyCodeLine{mime.lookup('htm');\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ =>\ 'text/html'}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3347}{}\doxysubsection{\texorpdfstring{mime.\+default\+\_\+type}{mime.\+default\+\_\+type}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3347}
Sets the mime type returned when {\ttfamily mime.\+lookup} fails to find the extension searched for. (Default is {\ttfamily application/octet-\/stream}.)\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3348}{}\doxysubsection{\texorpdfstring{mime.\+extension(type)}{mime.\+extension(type)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3348}
Get the default extension for {\ttfamily type}


\begin{DoxyCode}{0}
\DoxyCodeLine{mime.extension('text/html');\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ =>\ 'html'}
\DoxyCodeLine{mime.extension('application/octet-\/stream');\ \ //\ =>\ 'bin'}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3349}{}\doxysubsection{\texorpdfstring{mime.\+charsets.\+lookup()}{mime.\+charsets.\+lookup()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3349}
Map mime-\/type to charset


\begin{DoxyCode}{0}
\DoxyCodeLine{mime.charsets.lookup('text/plain');\ \ \ \ \ \ \ \ //\ =>\ 'UTF-\/8'}

\end{DoxyCode}


(The logic for charset lookups is pretty rudimentary. Feel free to suggest improvements.)\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3350}{}\doxysection{\texorpdfstring{API -\/ Defining Custom Types}{API -\/ Defining Custom Types}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3350}
Custom type mappings can be added on a per-\/project basis via the following APIs.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3351}{}\doxysubsection{\texorpdfstring{mime.\+define()}{mime.\+define()}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3351}
Add custom mime/extension mappings


\begin{DoxyCode}{0}
\DoxyCodeLine{mime.define(\{}
\DoxyCodeLine{\ \ \ \ 'text/x-\/some-\/format':\ ['x-\/sf',\ 'x-\/sft',\ 'x-\/sfml'],}
\DoxyCodeLine{\ \ \ \ 'application/x-\/my-\/type':\ ['x-\/mt',\ 'x-\/mtt'],}
\DoxyCodeLine{\ \ \ \ //\ etc\ ...}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{mime.lookup('x-\/sft');\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ =>\ 'text/x-\/some-\/format'}

\end{DoxyCode}


The first entry in the extensions array is returned by {\ttfamily mime.\+extension()}. E.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{mime.extension('text/x-\/some-\/format');\ //\ =>\ 'x-\/sf'}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3352}{}\doxysubsection{\texorpdfstring{mime.\+load(filepath)}{mime.\+load(filepath)}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2df2bcdb185502f8d0d4e630ceb3541a3_autotoc_md3352}
Load mappings from an Apache "{}.\+types"{} format file


\begin{DoxyCode}{0}
\DoxyCodeLine{mime.load('./my\_project.types');}

\end{DoxyCode}
 The .types file format is simple -\/ See the {\ttfamily types} dir for examples. 