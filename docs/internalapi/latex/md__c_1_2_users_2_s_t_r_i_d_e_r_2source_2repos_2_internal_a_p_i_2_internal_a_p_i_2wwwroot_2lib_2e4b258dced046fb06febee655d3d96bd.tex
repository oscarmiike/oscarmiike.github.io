\chapter{readme}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd}{}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd}\index{readme@{readme}}
\#through

\href{http://travis-ci.org/dominictarr/through}{\texttt{ }} \href{https://ci.testling.com/dominictarr/through}{\texttt{ }}

Easy way to create a {\ttfamily Stream} that is both {\ttfamily readable} and {\ttfamily writable}.


\begin{DoxyItemize}
\item Pass in optional {\ttfamily write} and {\ttfamily end} methods.
\item {\ttfamily through} takes care of pause/resume logic if you use {\ttfamily this.\+queue(data)} instead of `this.\+emit(\textquotesingle{}data', data){\ttfamily .}
\item {\ttfamily Use}this.\+pause(){\ttfamily and}this.\+resume(){\ttfamily to manage flow.}
\item {\ttfamily Check}this.\+paused{\ttfamily to see current flow state. (}write{\ttfamily always returns}!this.paused\`{}).
\end{DoxyItemize}

This function is the basis for most of the synchronous streams in \href{http://github.com/dominictarr/event-stream}{\texttt{ event-\/stream}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ through\ =\ require('through')}
\DoxyCodeLine{}
\DoxyCodeLine{through(function\ write(data)\ \{}
\DoxyCodeLine{\ \ \ \ this.queue(data)\ //data\ *must*\ not\ be\ null}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ function\ end\ ()\ \{\ //optional}
\DoxyCodeLine{\ \ \ \ this.queue(null)}
\DoxyCodeLine{\ \ \})}

\end{DoxyCode}


Or, can also be used {\itshape without} buffering on pause, use `this.\+emit(\textquotesingle{}data', data)`, and this.\+emit(\textquotesingle{}end')


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ through\ =\ require('through')}
\DoxyCodeLine{}
\DoxyCodeLine{through(function\ write(data)\ \{}
\DoxyCodeLine{\ \ \ \ this.emit('data',\ data)}
\DoxyCodeLine{\ \ \ \ //this.pause()\ }
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ function\ end\ ()\ \{\ //optional}
\DoxyCodeLine{\ \ \ \ this.emit('end')}
\DoxyCodeLine{\ \ \})}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11695}{}\doxysubsection{\texorpdfstring{Extended Options}{Extended Options}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11695}
You will probably not need these 99\% of the time.\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11696}{}\doxysubsubsection{\texorpdfstring{auto\+Destroy=false}{auto\+Destroy=false}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11696}
By default, {\ttfamily through} emits close when the writable and readable side of the stream has ended. If that is not desired, set {\ttfamily auto\+Destroy=false}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ through\ =\ require('through')}
\DoxyCodeLine{}
\DoxyCodeLine{//like\ this}
\DoxyCodeLine{var\ ts\ =\ through(write,\ end,\ \{autoDestroy:\ false\})}
\DoxyCodeLine{//or\ like\ this}
\DoxyCodeLine{var\ ts\ =\ through(write,\ end)}
\DoxyCodeLine{ts.autoDestroy\ =\ false}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11697}{}\doxysubsection{\texorpdfstring{License}{License}}\label{md__c_1_2_users_2_s_t_r_i_d_e_r_2source_2repos_2_internal_a_p_i_2_internal_a_p_i_2wwwroot_2lib_2e4b258dced046fb06febee655d3d96bd_autotoc_md11697}
MIT / Apache2 